const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignUp-D5Yqr4ZO.js","assets/note-icon-C14_C1PZ.js","assets/SignUp-Cs7zf26-.css","assets/SignIn-CSBfzwoO.js","assets/SignIn-B-TTy0CL.css","assets/ResetPassword-U2bAs2Ux.js","assets/ResetPassword-BJORyH4W.css","assets/Dashboard-B6mWtZYb.js","assets/Dashboard-5rnThZ_m.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var em={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function db(){if(rv)return zl;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=t,zl.jsx=n,zl.jsxs=n,zl}var sv;function mb(){return sv||(sv=1,em.exports=db()),em.exports}var we=mb(),nm={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function pb(){if(av)return wt;av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Q={};function U(N,et,lt){this.props=N,this.context=et,this.refs=Q,this.updater=lt||x}U.prototype.isReactComponent={},U.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=U.prototype;function j(N,et,lt){this.props=N,this.context=et,this.refs=Q,this.updater=lt||x}var Y=j.prototype=new $;Y.constructor=j,B(Y,U.prototype),Y.isPureReactComponent=!0;var ot=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function C(N,et,lt,it,pt,Rt){return lt=Rt.ref,{$$typeof:r,type:N,key:et,ref:lt!==void 0?lt:null,props:Rt}}function A(N,et){return C(N.type,et,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return et[lt]})}var V=/\/+/g;function k(N,et){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):et.toString(36)}function D(){}function pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function te(N,et,lt,it,pt){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var Tt=!1;if(N===null)Tt=!0;else switch(Rt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(N.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=N._init,te(Tt(N._payload),et,lt,it,pt)}}if(Tt)return pt=pt(N),Tt=it===""?"."+k(N,0):it,ot(pt)?(lt="",Tt!=null&&(lt=Tt.replace(V,"$&/")+"/"),te(pt,et,lt,"",function(Cn){return Cn})):pt!=null&&(R(pt)&&(pt=A(pt,lt+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(V,"$&/")+"/")+Tt)),et.push(pt)),1;Tt=0;var Ee=it===""?".":it+":";if(ot(N))for(var Yt=0;Yt<N.length;Yt++)it=N[Yt],Rt=Ee+k(it,Yt),Tt+=te(it,et,lt,Rt,pt);else if(Yt=w(N),typeof Yt=="function")for(N=Yt.call(N),Yt=0;!(it=N.next()).done;)it=it.value,Rt=Ee+k(it,Yt++),Tt+=te(it,et,lt,Rt,pt);else if(Rt==="object"){if(typeof N.then=="function")return te(pe(N),et,lt,it,pt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function X(N,et,lt){if(N==null)return N;var it=[],pt=0;return te(N,it,"","",function(Rt){return et.call(lt,Rt,pt++)}),it}function at(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var ft=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function zt(){}return wt.Children={map:X,forEach:function(N,et,lt){X(N,function(){et.apply(this,arguments)},lt)},count:function(N){var et=0;return X(N,function(){et++}),et},toArray:function(N){return X(N,function(et){return et})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=U,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=j,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return rt.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,et,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=B({},N.props),pt=N.key,Rt=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(Rt=void 0),et.key!==void 0&&(pt=""+et.key),et)!ht.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(it[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=lt;else if(1<Tt){for(var Ee=Array(Tt),Yt=0;Yt<Tt;Yt++)Ee[Yt]=arguments[Yt+2];it.children=Ee}return C(N.type,pt,void 0,void 0,Rt,it)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},wt.createElement=function(N,et,lt){var it,pt={},Rt=null;if(et!=null)for(it in et.key!==void 0&&(Rt=""+et.key),et)ht.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=et[it]);var Tt=arguments.length-2;if(Tt===1)pt.children=lt;else if(1<Tt){for(var Ee=Array(Tt),Yt=0;Yt<Tt;Yt++)Ee[Yt]=arguments[Yt+2];pt.children=Ee}if(N&&N.defaultProps)for(it in Tt=N.defaultProps,Tt)pt[it]===void 0&&(pt[it]=Tt[it]);return C(N,Rt,void 0,void 0,null,pt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:m,render:N}},wt.isValidElement=R,wt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:at}},wt.memo=function(N,et){return{$$typeof:y,type:N,compare:et===void 0?null:et}},wt.startTransition=function(N){var et=rt.T,lt={};rt.T=lt;try{var it=N(),pt=rt.S;pt!==null&&pt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(zt,ft)}catch(Rt){ft(Rt)}finally{rt.T=et}},wt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},wt.use=function(N){return rt.H.use(N)},wt.useActionState=function(N,et,lt){return rt.H.useActionState(N,et,lt)},wt.useCallback=function(N,et){return rt.H.useCallback(N,et)},wt.useContext=function(N){return rt.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,et){return rt.H.useDeferredValue(N,et)},wt.useEffect=function(N,et,lt){var it=rt.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,et)},wt.useId=function(){return rt.H.useId()},wt.useImperativeHandle=function(N,et,lt){return rt.H.useImperativeHandle(N,et,lt)},wt.useInsertionEffect=function(N,et){return rt.H.useInsertionEffect(N,et)},wt.useLayoutEffect=function(N,et){return rt.H.useLayoutEffect(N,et)},wt.useMemo=function(N,et){return rt.H.useMemo(N,et)},wt.useOptimistic=function(N,et){return rt.H.useOptimistic(N,et)},wt.useReducer=function(N,et,lt){return rt.H.useReducer(N,et,lt)},wt.useRef=function(N){return rt.H.useRef(N)},wt.useState=function(N){return rt.H.useState(N)},wt.useSyncExternalStore=function(N,et,lt){return rt.H.useSyncExternalStore(N,et,lt)},wt.useTransition=function(){return rt.H.useTransition()},wt.version="19.1.1",wt}var ov;function Jm(){return ov||(ov=1,nm.exports=pb()),nm.exports}var P=Jm();const Qt=fb(P);var im={exports:{}},Bl={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function gb(){return lv||(lv=1,(function(r){function t(X,at){var ft=X.length;X.push(at);t:for(;0<ft;){var zt=ft-1>>>1,N=X[zt];if(0<o(N,at))X[zt]=at,X[ft]=N,ft=zt;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var at=X[0],ft=X.pop();if(ft!==at){X[0]=ft;t:for(var zt=0,N=X.length,et=N>>>1;zt<et;){var lt=2*(zt+1)-1,it=X[lt],pt=lt+1,Rt=X[pt];if(0>o(it,ft))pt<N&&0>o(Rt,it)?(X[zt]=Rt,X[pt]=ft,zt=pt):(X[zt]=it,X[lt]=ft,zt=lt);else if(pt<N&&0>o(Rt,ft))X[zt]=Rt,X[pt]=ft,zt=pt;else break t}}return at}function o(X,at){var ft=X.sortIndex-at.sortIndex;return ft!==0?ft:X.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,w=3,x=!1,B=!1,Q=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ot(X){for(var at=n(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=X)s(y),at.sortIndex=at.expirationTime,t(g,at);else break;at=n(y)}}function rt(X){if(Q=!1,ot(X),!B)if(n(g)!==null)B=!0,ht||(ht=!0,k());else{var at=n(y);at!==null&&te(rt,at.startTime-X)}}var ht=!1,C=-1,A=5,R=-1;function O(){return U?!0:!(r.unstable_now()-R<A)}function V(){if(U=!1,ht){var X=r.unstable_now();R=X;var at=!0;try{t:{B=!1,Q&&(Q=!1,j(C),C=-1),x=!0;var ft=w;try{e:{for(ot(X),b=n(g);b!==null&&!(b.expirationTime>X&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,w=b.priorityLevel;var N=zt(b.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){b.callback=N,ot(X),at=!0;break e}b===n(g)&&s(g),ot(X)}else s(g);b=n(g)}if(b!==null)at=!0;else{var et=n(y);et!==null&&te(rt,et.startTime-X),at=!1}}break t}finally{b=null,w=ft,x=!1}at=void 0}}finally{at?k():ht=!1}}}var k;if(typeof Y=="function")k=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,pe=D.port2;D.port1.onmessage=V,k=function(){pe.postMessage(null)}}else k=function(){$(V,0)};function te(X,at){C=$(function(){X(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var ft=w;w=at;try{return X()}finally{w=ft}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=w;w=X;try{return at()}finally{w=ft}},r.unstable_scheduleCallback=function(X,at,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ft+N,X={id:E++,callback:at,priorityLevel:X,startTime:ft,expirationTime:N,sortIndex:-1},ft>zt?(X.sortIndex=ft,t(y,X),n(g)===null&&X===n(y)&&(Q?(j(C),C=-1):Q=!0,te(rt,ft-zt))):(X.sortIndex=N,t(g,X),B||x||(B=!0,ht||(ht=!0,k()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var at=w;return function(){var ft=w;w=at;try{return X.apply(this,arguments)}finally{w=ft}}}})(sm)),sm}var uv;function yb(){return uv||(uv=1,rm.exports=gb()),rm.exports}var am={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function _b(){if(cv)return Je;cv=1;var r=Jm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Je.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Je.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Je.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Je.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Je.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Je.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Je.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Je.requestFormReset=function(g){s.d.r(g)},Je.unstable_batchedUpdates=function(g,y){return g(y)},Je.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Je.useFormStatus=function(){return f.H.useHostTransitionStatus()},Je.version="19.1.1",Je}var hv;function vb(){if(hv)return am.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=_b(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Eb(){if(fv)return Bl;fv=1;var r=yb(),t=Jm(),n=vb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case U:return"Profiler";case Q:return"StrictMode";case rt:return"Suspense";case ht:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:pe(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return pe(e(i))}catch{}}return null}var te=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],N=-1;function et(e){return{current:e}}function lt(e){0>N||(e.current=zt[N],zt[N]=null,N--)}function it(e,i){N++,zt[N]=e.current,e.current=i}var pt=et(null),Rt=et(null),Tt=et(null),Ee=et(null);function Yt(e,i){switch(it(Tt,i),it(Rt,e),it(pt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?M_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=M_(i),e=V_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(pt),it(pt,e)}function Cn(){lt(pt),lt(Rt),lt(Tt)}function ai(e){e.memoizedState!==null&&it(Ee,e);var i=pt.current,a=V_(i,e.type);i!==a&&(it(Rt,e),it(pt,a))}function Kn(e){Rt.current===e&&(lt(pt),lt(Rt)),Ee.current===e&&(lt(Ee),Pl._currentValue=ft)}var zi=Object.prototype.hasOwnProperty,sn=r.unstable_scheduleCallback,oi=r.unstable_cancelCallback,bs=r.unstable_shouldYield,As=r.unstable_requestPaint,un=r.unstable_now,Ea=r.unstable_getCurrentPriorityLevel,ws=r.unstable_ImmediatePriority,Bi=r.unstable_UserBlockingPriority,qi=r.unstable_NormalPriority,Ta=r.unstable_LowPriority,Cr=r.unstable_IdlePriority,Rs=r.log,Sa=r.unstable_setDisableYieldValue,re=null,qt=null;function We(e){if(typeof Rs=="function"&&Sa(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,e)}catch{}}var xe=Math.clz32?Math.clz32:li,Is=Math.log,Bo=Math.LN2;function li(e){return e>>>=0,e===0?32:31-(Is(e)/Bo|0)|0}var Hi=256,ui=4194304;function gn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ji(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=gn(l):(v&=T,v!==0?h=gn(v):a||(a=T&~e,a!==0&&(h=gn(a))))):(T=l&~d,T!==0?h=gn(T):v!==0?h=gn(v):a||(a=l&~e,a!==0&&(h=gn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Cs(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ds(){var e=Hi;return Hi<<=1,(Hi&4194048)===0&&(Hi=256),e}function Dr(){var e=ui;return ui<<=1,(ui&62914560)===0&&(ui=4194304),e}function Qn(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Dn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ns(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-xe(a),J=1<<W;T[W]=0,I[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&yn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function yn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-xe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Os(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-xe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yn(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Z_(e.type))}function ba(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var ee=Math.random().toString(36).slice(2),ge="__reactFiber$"+ee,oe="__reactProps$"+ee,cn="__reactContainer$"+ee,Or="__reactEvents$"+ee,qo="__reactListeners$"+ee,$n="__reactHandles$"+ee,Aa="__reactResources$"+ee,hi="__reactMarker$"+ee;function fi(e){delete e[ge],delete e[oe],delete e[Or],delete e[qo],delete e[$n]}function Xn(e){var i=e[ge];if(i)return i;for(var a=e.parentNode;a;){if(i=a[cn]||a[ge]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=L_(e);e!==null;){if(a=e[ge])return a;e=L_(e)}return i}e=a,a=e.parentNode}return null}function Nn(e){if(e=e[ge]||e[cn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function On(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function je(e){var i=e[Aa];return i||(i=e[Aa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[hi]=!0}var Ms=new Set,Mr={};function _n(e,i){Wn(e,i),Wn(e+"Capture",i)}function Wn(e,i){for(Mr[e]=i,e=0;e<i.length;e++)Ms.add(i[e])}var wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ra={},Gi={};function Ia(e){return zi.call(Gi,e)?!0:zi.call(Ra,e)?!1:wa.test(e)?Gi[e]=!0:(Ra[e]=!0,!1)}function di(e,i,a){if(Ia(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ie(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Ki,Ca;function Zn(e){if(Ki===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ki=i&&i[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+e+Ca}var Vr=!1;function Jn(e,i){if(!e||Vr)return"";Vr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){F=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{Vr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zn(a):""}function Qi(e){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Jn(e.type,!1);case 11:return Jn(e.type.render,!1);case 1:return Jn(e.type,!0);case 31:return Zn("Activity");default:return""}}function Yi(e){try{var i="";do i+=Qi(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ho(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(e){var i=Ho(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Da(e){e._valueTracker||(e._valueTracker=sf(e))}function jo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ho(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var af=/[\n"\\]/g;function Te(e){return e.replace(af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+It(i)):e.value!==""+It(i)&&(e.value=""+It(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Pr(e,v,It(i)):a!=null?Pr(e,v,It(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+It(T):e.removeAttribute("name")}function Ps(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+It(a):"",i=i!=null?""+It(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Pr(e,i,a){i==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $i(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $t(e,i,a){if(i!=null&&(i=""+It(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+It(a):""}function xs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=It(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ks.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Fo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Du(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Du(e,d,i[d])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return lf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Xi=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Zi=null;function Ko(e){var i=Nn(e);if(i&&(e=i.stateNode)){var a=e[oe]||null;t:switch(e=i.stateNode,i.type){case"input":if(vn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[oe]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&jo(l)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&$i(e,!!a.multiple,i,!1)}}}var mi=!1;function Nu(e,i,a){if(mi)return e(i,a);mi=!0;try{var l=e(i);return l}finally{if(mi=!1,(Wi!==null||Zi!==null)&&(bc(),Wi&&(i=Wi,e=Zi,Zi=Wi=null,Ko(i),e)))for(i=0;i<e.length;i++)Ko(e[i])}}function Ls(e,i){var a=e.stateNode;if(a===null)return null;var l=a[oe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(ti)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{xn=!1}var pi=null,xr=null,Ji=null;function Qo(){if(Ji)return Ji;var e,i=xr,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ji=h.slice(e,1<l?1-l:void 0)}function gi(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Yo(){return!1}function ke(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yi:Yo,this.isPropagationStopped=Yo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=ke(jt),zs=E({},jt,{view:0,detail:0}),Ou=ke(zs),Ma,Va,_i,Bs=E({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Ma=e.screenX-_i.screenX,Va=e.screenY-_i.screenY):Va=Ma=0,_i=e),Ma)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),kn=ke(Bs),Mu=E({},Bs,{dataTransfer:0}),uf=ke(Mu),qs=E({},zs,{relatedTarget:0}),Pa=ke(qs),$o=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=ke($o),Vu=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ka=ke(Vu),cf=E({},jt,{data:0}),Xo=ke(cf),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=xu[e])?!!i[e]:!1}function js(){return Wo}var ku=E({},zs,{key:function(e){if(e.key){var i=Hs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),La=ke(ku),Lu=E({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=ke(Lu),tr=E({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Uu=ke(tr),zu=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=ke(zu),qu=E({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=ke(qu),an=E({},jt,{newState:0,oldState:0}),Hu=ke(an),ju=[9,13,27,32],vi=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var p=ti&&"TextEvent"in window&&!c,_=ti&&(!vi||c&&8<c&&11>=c),S=" ",z=!1;function K(e,i){switch(e){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ce(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return e=i.data,e===S&&z?null:e;default:return null}}function kt(e,i){if(xt)return e==="compositionend"||!vi&&K(e,i)?(e=Qo(),Ji=xr=pi=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Le[e.type]:i==="textarea"}function er(e,i,a,l){Wi?Zi?Zi.push(l):Zi=[l]:Wi=l,i=Dc(i,"onChange"),0<i.length&&(a=new Oa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Fe=null,Ei=null;function Jo(e){I_(e,0)}function Fu(e){var i=On(e);if(jo(i))return e}function Yp(e,i){if(e==="change")return i}var $p=!1;if(ti){var hf;if(ti){var ff="oninput"in document;if(!ff){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),ff=typeof Xp.oninput=="function"}hf=ff}else hf=!1;$p=hf&&(!document.documentMode||9<document.documentMode)}function Wp(){Fe&&(Fe.detachEvent("onpropertychange",Zp),Ei=Fe=null)}function Zp(e){if(e.propertyName==="value"&&Fu(Ei)){var i=[];er(i,Ei,e,Pn(e)),Nu(Jo,i)}}function H1(e,i,a){e==="focusin"?(Wp(),Fe=i,Ei=a,Fe.attachEvent("onpropertychange",Zp)):e==="focusout"&&Wp()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(Ei)}function F1(e,i){if(e==="click")return Fu(i)}function G1(e,i){if(e==="input"||e==="change")return Fu(i)}function K1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:K1;function tl(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!zi.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tg(e,i){var a=Jp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jp(a)}}function eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Vs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Vs(e.document)}return i}function df(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Q1=ti&&"documentMode"in document&&11>=document.documentMode,za=null,mf=null,el=null,pf=!1;function ig(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||za==null||za!==Vs(l)||(l=za,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Dc(mf,"onSelect"),0<l.length&&(i=new Oa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=za)))}function Fs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ba={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},gf={},rg={};ti&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Gs(e){if(gf[e])return gf[e];if(!Ba[e])return e;var i=Ba[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return gf[e]=i[a];return e}var sg=Gs("animationend"),ag=Gs("animationiteration"),og=Gs("animationstart"),Y1=Gs("transitionrun"),$1=Gs("transitionstart"),X1=Gs("transitioncancel"),lg=Gs("transitionend"),ug=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ei(e,i){ug.set(e,i),_n(i,[e])}var cg=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=cg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Yi(i)},cg.set(e,i),i)}return{value:e,source:i,stack:Yi(i)}}var Un=[],qa=0,_f=0;function Gu(){for(var e=qa,i=_f=qa=0;i<e;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Ku(e,i,a,l){Un[qa++]=e,Un[qa++]=i,Un[qa++]=a,Un[qa++]=l,_f|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vf(e,i,a,l){return Ku(e,i,a,l),Qu(e)}function Ha(e,i){return Ku(e,null,null,i),Qu(e)}function hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-xe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(e){if(50<Rl)throw Rl=0,wd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ja={};function W1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new W1(e,i,a,l)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nr(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Yu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Ef(e)&&(v=1);else if(typeof e=="string")v=JS(e,a,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,a,i,h),e.elementType=R,e.lanes=d,e;case B:return Ks(a.children,h,d,i);case Q:v=8,h|=24;break;case U:return e=Tn(12,a,i,h|2),e.elementType=U,e.lanes=d,e;case rt:return e=Tn(13,a,i,h),e.elementType=rt,e.lanes=d,e;case ht:return e=Tn(19,a,i,h),e.elementType=ht,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case Y:v=10;break t;case j:v=9;break t;case ot:v=11;break t;case C:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Tn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ks(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function Tf(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function Sf(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Fa=[],Ga=0,$u=null,Xu=0,zn=[],Bn=0,Qs=null,ir=1,rr="";function Ys(e,i){Fa[Ga++]=Xu,Fa[Ga++]=$u,$u=e,Xu=i}function dg(e,i,a){zn[Bn++]=ir,zn[Bn++]=rr,zn[Bn++]=Qs,Qs=e;var l=ir;e=rr;var h=32-xe(l)-1;l&=~(1<<h),a+=1;var d=32-xe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ir=1<<32-xe(i)+h|a<<h|l,rr=d+e}else ir=1<<d|a<<h|l,rr=e}function bf(e){e.return!==null&&(Ys(e,1),dg(e,1,0))}function Af(e){for(;e===$u;)$u=Fa[--Ga],Fa[Ga]=null,Xu=Fa[--Ga],Fa[Ga]=null;for(;e===Qs;)Qs=zn[--Bn],zn[Bn]=null,rr=zn[--Bn],zn[Bn]=null,ir=zn[--Bn],zn[Bn]=null}var on=null,de=null,Ht=!1,$s=null,Ti=!1,wf=Error(s(519));function Xs(e){var i=Error(s(418,""));throw rl(Ln(i,e)),wf}function mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ge]=e,i[oe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ot(Cl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Ps(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),xs(i,l.value,l.defaultValue,l.children),Da(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||Xs(e)}function pg(e){for(on=e.return;on;)switch(on.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:on=on.return}}function nl(e){if(e!==on)return!1;if(!Ht)return pg(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qd(e.type,e.memoizedProps)),a=!a),a&&de&&Xs(e),pg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){de=ii(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}de=null}}else i===27?(i=de,Wr(e.type)?(e=Gd,Gd=null,de=e):de=i):de=on?ii(e.stateNode.nextSibling):null;return!0}function il(){de=on=null,Ht=!1}function gg(){var e=$s;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),$s=null),e}function rl(e){$s===null?$s=[e]:$s.push(e)}var Rf=et(null),Ws=null,sr=null;function kr(e,i,a){it(Rf,i._currentValue),i._currentValue=a}function ar(e){e._currentValue=Rf.current,lt(Rf)}function If(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Cf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),If(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function sl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ee.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}h=h.return}e!==null&&Cf(i,e,a,l),i.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zs(e){Ws=e,sr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return yg(Ws,e)}function Zu(e,i){return Ws===null&&Zs(e),yg(e,i)}function yg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},sr===null){if(e===null)throw Error(s(308));sr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else sr=sr.next=i;return a}var Z1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},J1=r.unstable_scheduleCallback,tS=r.unstable_NormalPriority,Ne={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new Z1,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&J1(tS,function(){e.controller.abort()})}var ol=null,Nf=0,Ka=0,Qa=null;function eS(e,i){if(ol===null){var a=ol=[];Nf=0,Ka=Md(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(_g,_g),i}function _g(){if(--Nf===0&&ol!==null){Qa!==null&&(Qa.status="fulfilled");var e=ol;ol=null,Ka=0,Qa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vg=X.S;X.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eS(e,i),vg!==null&&vg(e,i)};var Js=et(null);function Of(){var e=Js.current;return e!==null?e:ie.pooledCache}function Ju(e,i){i===null?it(Js,Js.current):it(Js,i.pool)}function Eg(){var e=Of();return e===null?null:{parent:Ne._currentValue,pool:e}}var ll=Error(s(460)),Tg=Error(s(474)),tc=Error(s(542)),Mf={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ec(){}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ec,ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e;default:if(typeof i.status=="string")i.then(ec,ec);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e}throw ul=i,ll}}var ul=null;function Ag(){if(ul===null)throw Error(s(459));var e=ul;return ul=null,e}function wg(e){if(e===ll||e===tc)throw Error(s(483))}var Lr=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(e),hg(e,null,a),i}return Ku(e,l,i,a),Qu(e)}function cl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Os(e,a)}}function xf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var kf=!1;function hl(){if(kf){var e=Qa;if(e!==null)throw e}}function fl(e,i,a,l){kf=!1;var h=e.updateQueue;Lr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,W=H=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Lt&F)===F:(l&F)===F){F!==0&&F===Ka&&(kf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=e,yt=T;F=i;var Zt=a;switch(yt.tag){case 1:if(St=yt.payload,typeof St=="function"){J=St.call(Zt,J,F);break t}J=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=yt.payload,F=typeof St=="function"?St.call(Zt,J,F):St,F==null)break t;J=E({},J,F);break t;case 2:Lr=!0}}F=T.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=G,I=J):W=W.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(I=J),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Qr|=v,e.lanes=v,e.memoizedState=J}}function Rg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ig(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],i)}var Ya=et(null),nc=et(0);function Cg(e,i){e=dr,it(nc,e),it(Ya,i),dr=e|i.baseLanes}function Lf(){it(nc,dr),it(Ya,Ya.current)}function Uf(){dr=nc.current,lt(Ya),lt(nc)}var Br=0,Ct=null,Xt=null,Se=null,ic=!1,$a=!1,ta=!1,rc=0,dl=0,Xa=null,iS=0;function ye(){throw Error(s(321))}function zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Bf(e,i,a,l,h,d){return Br=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=e===null||e.memoizedState===null?hy:fy,ta=!1,d=a(l,h),ta=!1,$a&&(d=Ng(i,a,l,h)),Dg(e),d}function Dg(e){X.H=cc;var i=Xt!==null&&Xt.next!==null;if(Br=0,Se=Xt=Ct=null,ic=!1,dl=0,Xa=null,i)throw Error(s(300));e===null||Ue||(e=e.dependencies,e!==null&&Wu(e)&&(Ue=!0))}function Ng(e,i,a,l){Ct=e;var h=0;do{if($a&&(Xa=null),dl=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=cS,d=i(a,l)}while($a);return d}function rS(){var e=X.H,i=e.useState()[0];return i=typeof i.then=="function"?ml(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function qf(){var e=rc!==0;return rc=0,e}function Hf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function jf(e){if(ic){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ic=!1}Br=0,Se=Xt=Ct=null,$a=!1,dl=rc=0,Xa=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=e:Se=Se.next=e,Se}function be(){if(Xt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Se===null?Ct.memoizedState:Se.next;if(i!==null)Se=i,Xt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?Ct.memoizedState=Se=e:Se=Se.next=e}return Se}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(e){var i=dl;return dl+=1,Xa===null&&(Xa=[]),e=bg(Xa,e,i),i=Ct,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?hy:fy),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ml(e);if(e.$$typeof===Y)return Ze(e)}throw Error(s(438,String(e)))}function Gf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ff(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function or(e,i){return typeof i=="function"?i(e):i}function ac(e){var i=be();return Kf(i,Xt,e)}function Kf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,H=i,W=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Lt&J)===J:(Br&J)===J){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Ka&&(W=!0);else if((Br&F)===F){H=H.next,F===Ka&&(W=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ct.lanes|=F,Qr|=F;J=H.action,ta&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else F={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ct.lanes|=J,Qr|=J;H=H.next}while(H!==null&&H!==i);if(I===null?v=d:I.next=T,!En(d,e.memoizedState)&&(Ue=!0,W&&(a=Qa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qf(e){var i=be(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Ue=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(e,i,a){var l=Ct,h=be(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Ue=!0),h=h.queue;var T=Pg.bind(null,l,h,e);if(pl(2048,8,T,[e]),h.getSnapshot!==i||v||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Wa(9,oc(),Vg.bind(null,l,h,a,i),null),ie===null)throw Error(s(349));d||(Br&124)!==0||Mg(l,i,a)}return a}function Mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Ff(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Vg(e,i,a,l){i.value=a,i.getSnapshot=l,xg(i)&&kg(e)}function Pg(e,i,a){return a(function(){xg(i)&&kg(e)})}function xg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function kg(e){var i=Ha(e,2);i!==null&&Rn(i,e,2)}function Yf(e){var i=hn();if(typeof e=="function"){var a=e;if(e=a(),ta){We(!0);try{a()}finally{We(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},i}function Lg(e,i,a,l){return e.baseState=a,Kf(e,Xt,typeof l=="function"?l:or)}function sS(e,i,a,l,h){if(uc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),I=X.S;I!==null&&I(v,T),zg(e,i,T)}catch(H){$f(e,i,H)}finally{X.T=d}}else try{d=a(h,l),zg(e,i,d)}catch(H){$f(e,i,H)}}function zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(e,i,l)},function(l){return $f(e,i,l)}):Bg(e,i,a)}function Bg(e,i,a){i.status="fulfilled",i.value=a,qg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ug(e,a)))}function $f(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qg(i),i=i.next;while(i!==l)}e.action=null}function qg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function jg(e,i){if(Ht){var a=ie.formState;if(a!==null){t:{var l=Ct;if(Ht){if(de){e:{for(var h=de,d=Ti;h.nodeType!==8;){if(!d){h=null;break e}if(h=ii(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){de=ii(h.nextSibling),l=h.data==="F!";break t}}Xs(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ct,l),l.dispatch=a,l=Yf(!1),d=td.bind(null,Ct,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=sS.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Fg(e){var i=be();return Gg(i,Xt,e)}function Gg(e,i,a){if(i=Kf(e,i,Hg)[0],e=ac(or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(v){throw v===ll?tc:v}else l=i;i=be();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Wa(9,oc(),aS.bind(null,h,a),null)),[l,d,e]}function aS(e,i){e.action=i}function Kg(e){var i=be(),a=Xt;if(a!==null)return Gg(i,a,e);be(),i=i.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Ff(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function oc(){return{destroy:void 0,resource:void 0}}function Qg(){return be().memoizedState}function lc(e,i,a,l){var h=hn();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=Wa(1|i,oc(),a,l)}function pl(e,i,a,l){var h=be();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&zf(l,Xt.memoizedState.deps)?h.memoizedState=Wa(i,d,a,l):(Ct.flags|=e,h.memoizedState=Wa(1|i,d,a,l))}function Yg(e,i){lc(8390656,8,e,i)}function $g(e,i){pl(2048,8,e,i)}function Xg(e,i){return pl(4,2,e,i)}function Wg(e,i){return pl(4,4,e,i)}function Zg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,pl(4,4,Zg.bind(null,i,e),a)}function Xf(){}function ty(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ey(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=e(),ta){We(!0);try{e()}finally{We(!1)}}return a.memoizedState=[l,i],l}function Wf(e,i,a){return a===void 0||(Br&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=r_(),Ct.lanes|=e,Qr|=e,a)}function ny(e,i,a,l){return En(a,i)?a:Ya.current!==null?(e=Wf(e,a,l),En(e,i)||(Ue=!0),e):(Br&42)===0?(Ue=!0,e.memoizedState=a):(e=r_(),Ct.lanes|=e,Qr|=e,i)}function iy(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,td(e,!1,i,a);try{var I=h(),H=X.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=nS(I,l);gl(e,i,W,wn(e))}else gl(e,i,l,wn(e))}catch(J){gl(e,i,{then:function(){},status:"rejected",reason:J},wn())}finally{at.p=d,X.T=v}}function oS(){}function Zf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ry(e).queue;iy(e,h,i,ft,a===null?oS:function(){return sy(e),a(l)})}function ry(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sy(e){var i=ry(e).next.queue;gl(e,i,{},wn())}function Jf(){return Ze(Pl)}function ay(){return be().memoizedState}function oy(){return be().memoizedState}function lS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=Ur(a);var l=zr(i,e,a);l!==null&&(Rn(l,i,a),cl(l,i,a)),i={cache:Df()},e.payload=i;return}i=i.return}}function uS(e,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(e)?uy(i,a):(a=vf(e,i,a,l),a!==null&&(Rn(a,e,l),cy(a,i,l)))}function ly(e,i,a){var l=wn();gl(e,i,a,l)}function gl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(e))uy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return Ku(e,i,h,0),ie===null&&Gu(),!1}catch{}finally{}if(a=vf(e,i,h,l),a!==null)return Rn(a,e,l),cy(a,i,l),!0}return!1}function td(e,i,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(i)throw Error(s(479))}else i=vf(e,a,l,2),i!==null&&Rn(i,e,2)}function uc(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function uy(e,i){$a=ic=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function cy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Os(e,a)}}var cc={readContext:Ze,use:sc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},hy={readContext:Ze,use:sc,useCallback:function(e,i){return hn().memoizedState=[e,i===void 0?null:i],e},useContext:Ze,useEffect:Yg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,lc(4194308,4,Zg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return lc(4194308,4,e,i)},useInsertionEffect:function(e,i){lc(4,2,e,i)},useMemo:function(e,i){var a=hn();i=i===void 0?null:i;var l=e();if(ta){We(!0);try{e()}finally{We(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=hn();if(a!==void 0){var h=a(i);if(ta){We(!0);try{a(i)}finally{We(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=uS.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=hn();return e={current:e},i.memoizedState=e},useState:function(e){e=Yf(e);var i=e.queue,a=ly.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(e,i){var a=hn();return Wf(a,e,i)},useTransition:function(){var e=Yf(!1);return e=iy.bind(null,Ct,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=hn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(Lt&124)!==0||Mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Pg.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,oc(),Vg.bind(null,l,d,a,i),null),a},useId:function(){var e=hn(),i=ie.identifierPrefix;if(Ht){var a=rr,l=ir;a=(l&~(1<<32-xe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=iS++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Jf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var i=hn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:Gf,useCacheRefresh:function(){return hn().memoizedState=lS.bind(null,Ct)}},fy={readContext:Ze,use:sc,useCallback:ty,useContext:Ze,useEffect:$g,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ey,useReducer:ac,useRef:Qg,useState:function(){return ac(or)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=be();return ny(a,Xt.memoizedState,e,i)},useTransition:function(){var e=ac(or)[0],i=be().memoizedState;return[typeof e=="boolean"?e:ml(e),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:Jf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=be();return Lg(a,Xt,e,i)},useMemoCache:Gf,useCacheRefresh:oy},cS={readContext:Ze,use:sc,useCallback:ty,useContext:Ze,useEffect:$g,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ey,useReducer:Qf,useRef:Qg,useState:function(){return Qf(or)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=be();return Xt===null?Wf(a,e,i):ny(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Qf(or)[0],i=be().memoizedState;return[typeof e=="boolean"?e:ml(e),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:Jf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=be();return Xt!==null?Lg(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:oy},Za=null,yl=0;function hc(e){var i=yl;return yl+=1,Za===null&&(Za=[]),bg(Za,e,i)}function _l(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function fc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function dy(e){var i=e._init;return i(e._payload)}function my(e){function i(L,M){if(e){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!e)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=nr(L,M),L.index=0,L.sibling=null,L}function d(L,M,q){return L.index=q,e?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,q,Z){return M===null||M.tag!==6?(M=Tf(q,L.mode,Z),M.return=L,M):(M=h(M,q),M.return=L,M)}function I(L,M,q,Z){var ct=q.type;return ct===B?W(L,M,q.props.children,Z,q.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&dy(ct)===M.type)?(M=h(M,q.props),_l(M,q),M.return=L,M):(M=Yu(q.type,q.key,q.props,null,L.mode,Z),_l(M,q),M.return=L,M)}function H(L,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Sf(q,L.mode,Z),M.return=L,M):(M=h(M,q.children||[]),M.return=L,M)}function W(L,M,q,Z,ct){return M===null||M.tag!==7?(M=Ks(q,L.mode,Z,ct),M.return=L,M):(M=h(M,q),M.return=L,M)}function J(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tf(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return q=Yu(M.type,M.key,M.props,null,L.mode,q),_l(q,M),q.return=L,q;case x:return M=Sf(M,L.mode,q),M.return=L,M;case A:var Z=M._init;return M=Z(M._payload),J(L,M,q)}if(te(M)||k(M))return M=Ks(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return J(L,hc(M),q);if(M.$$typeof===Y)return J(L,Zu(L,M),q);fc(L,M)}return null}function F(L,M,q,Z){var ct=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ct!==null?null:T(L,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ct?I(L,M,q,Z):null;case x:return q.key===ct?H(L,M,q,Z):null;case A:return ct=q._init,q=ct(q._payload),F(L,M,q,Z)}if(te(q)||k(q))return ct!==null?null:W(L,M,q,Z,null);if(typeof q.then=="function")return F(L,M,hc(q),Z);if(q.$$typeof===Y)return F(L,M,Zu(L,q),Z);fc(L,q)}return null}function G(L,M,q,Z,ct){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(M,L,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?q:Z.key)||null,I(M,L,Z,ct);case x:return L=L.get(Z.key===null?q:Z.key)||null,H(M,L,Z,ct);case A:var Dt=Z._init;return Z=Dt(Z._payload),G(L,M,q,Z,ct)}if(te(Z)||k(Z))return L=L.get(q)||null,W(M,L,Z,ct,null);if(typeof Z.then=="function")return G(L,M,q,hc(Z),ct);if(Z.$$typeof===Y)return G(L,M,q,Zu(M,Z),ct);fc(M,Z)}return null}function St(L,M,q,Z){for(var ct=null,Dt=null,mt=M,_t=M=0,Be=null;mt!==null&&_t<q.length;_t++){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var Bt=F(L,mt,q[_t],Z);if(Bt===null){mt===null&&(mt=Be);break}e&&mt&&Bt.alternate===null&&i(L,mt),M=d(Bt,M,_t),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt,mt=Be}if(_t===q.length)return a(L,mt),Ht&&Ys(L,_t),ct;if(mt===null){for(;_t<q.length;_t++)mt=J(L,q[_t],Z),mt!==null&&(M=d(mt,M,_t),Dt===null?ct=mt:Dt.sibling=mt,Dt=mt);return Ht&&Ys(L,_t),ct}for(mt=l(mt);_t<q.length;_t++)Be=G(mt,L,_t,q[_t],Z),Be!==null&&(e&&Be.alternate!==null&&mt.delete(Be.key===null?_t:Be.key),M=d(Be,M,_t),Dt===null?ct=Be:Dt.sibling=Be,Dt=Be);return e&&mt.forEach(function(ns){return i(L,ns)}),Ht&&Ys(L,_t),ct}function yt(L,M,q,Z){if(q==null)throw Error(s(151));for(var ct=null,Dt=null,mt=M,_t=M=0,Be=null,Bt=q.next();mt!==null&&!Bt.done;_t++,Bt=q.next()){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var ns=F(L,mt,Bt.value,Z);if(ns===null){mt===null&&(mt=Be);break}e&&mt&&ns.alternate===null&&i(L,mt),M=d(ns,M,_t),Dt===null?ct=ns:Dt.sibling=ns,Dt=ns,mt=Be}if(Bt.done)return a(L,mt),Ht&&Ys(L,_t),ct;if(mt===null){for(;!Bt.done;_t++,Bt=q.next())Bt=J(L,Bt.value,Z),Bt!==null&&(M=d(Bt,M,_t),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt);return Ht&&Ys(L,_t),ct}for(mt=l(mt);!Bt.done;_t++,Bt=q.next())Bt=G(mt,L,_t,Bt.value,Z),Bt!==null&&(e&&Bt.alternate!==null&&mt.delete(Bt.key===null?_t:Bt.key),M=d(Bt,M,_t),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt);return e&&mt.forEach(function(hb){return i(L,hb)}),Ht&&Ys(L,_t),ct}function Zt(L,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var ct=q.key;M!==null;){if(M.key===ct){if(ct=q.type,ct===B){if(M.tag===7){a(L,M.sibling),Z=h(M,q.props.children),Z.return=L,L=Z;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&dy(ct)===M.type){a(L,M.sibling),Z=h(M,q.props),_l(Z,q),Z.return=L,L=Z;break t}a(L,M);break}else i(L,M);M=M.sibling}q.type===B?(Z=Ks(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=Yu(q.type,q.key,q.props,null,L.mode,Z),_l(Z,q),Z.return=L,L=Z)}return v(L);case x:t:{for(ct=q.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),Z=h(M,q.children||[]),Z.return=L,L=Z;break t}else{a(L,M);break}else i(L,M);M=M.sibling}Z=Sf(q,L.mode,Z),Z.return=L,L=Z}return v(L);case A:return ct=q._init,q=ct(q._payload),Zt(L,M,q,Z)}if(te(q))return St(L,M,q,Z);if(k(q)){if(ct=k(q),typeof ct!="function")throw Error(s(150));return q=ct.call(q),yt(L,M,q,Z)}if(typeof q.then=="function")return Zt(L,M,hc(q),Z);if(q.$$typeof===Y)return Zt(L,M,Zu(L,q),Z);fc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,q),Z.return=L,L=Z):(a(L,M),Z=Tf(q,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,M)}return function(L,M,q,Z){try{yl=0;var ct=Zt(L,M,q,Z);return Za=null,ct}catch(mt){if(mt===ll||mt===tc)throw mt;var Dt=Tn(29,mt,null,L.mode);return Dt.lanes=Z,Dt.return=L,Dt}finally{}}}var Ja=my(!0),py=my(!1),qn=et(null),Si=null;function qr(e){var i=e.alternate;it(Oe,Oe.current&1),it(qn,e),Si===null&&(i===null||Ya.current!==null||i.memoizedState!==null)&&(Si=e)}function gy(e){if(e.tag===22){if(it(Oe,Oe.current),it(qn,e),Si===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Si=e)}}else Hr()}function Hr(){it(Oe,Oe.current),it(qn,qn.current)}function lr(e){lt(qn),Si===e&&(Si=null),lt(Oe)}var Oe=et(0);function dc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ed(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=wn(),h=Ur(l);h.payload=i,a!=null&&(h.callback=a),i=zr(e,h,l),i!==null&&(Rn(i,e,l),cl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=wn(),h=Ur(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zr(e,h,l),i!==null&&(Rn(i,e,l),cl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=zr(e,l,a),i!==null&&(Rn(i,e,a),cl(i,e,a))}};function yy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function _y(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&nd.enqueueReplaceState(i,i.state,null)}function ea(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var mc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vy(e){mc(e)}function Ey(e){console.error(e)}function Ty(e){mc(e)}function pc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(e,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(e,i)},a}function by(e){return e=Ur(e),e.tag=3,e}function Ay(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Sy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Sy(i,a,l),typeof h!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function hS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&sl(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return Si===null?Id():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(e,l,h)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(e,l,h)),!1}throw Error(s(435,a.tag))}return Dd(e,l,h),Id(),!1}if(Ht)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(e=Error(s(422),{cause:l}),rl(Ln(e,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),rl(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=id(e.stateNode,l,h),xf(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),wl===null?wl=[d]:wl.push(d),me!==4&&(me=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=id(a.stateNode,l,e),xf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=by(h),Ay(h,e,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var wy=Error(s(461)),Ue=!1;function Ge(e,i,a,l){i.child=e===null?py(i,null,a,l):Ja(i,e.child,a,l)}function Ry(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Zs(i),l=Bf(e,i,a,v,d,h),T=qf(),e!==null&&!Ue?(Hf(e,i,h),ur(e,i,h)):(Ht&&T&&bf(i),i.flags|=1,Ge(e,i,l,h),i.child)}function Iy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Cy(e,i,d,l,h)):(e=Yu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!hd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&e.ref===i.ref)return ur(e,i,h)}return i.flags|=1,e=nr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Cy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(tl(d,l)&&e.ref===i.ref)if(Ue=!1,i.pendingProps=l=d,hd(e,h))(e.flags&131072)!==0&&(Ue=!0);else return i.lanes=e.lanes,ur(e,i,h)}return rd(e,i,a,l,h)}function Dy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ny(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ju(i,d!==null?d.cachePool:null),d!==null?Cg(i,d):Lf(),gy(i);else return i.lanes=i.childLanes=536870912,Ny(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(i,d.cachePool),Cg(i,d),Hr(),i.memoizedState=null):(e!==null&&Ju(i,null),Lf(),Hr());return Ge(e,i,h,a),i.child}function Ny(e,i,a,l){var h=Of();return h=h===null?null:{parent:Ne._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ju(i,null),Lf(),gy(i),e!==null&&sl(e,i,l,!0),null}function gc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function rd(e,i,a,l,h){return Zs(i),a=Bf(e,i,a,l,void 0,h),l=qf(),e!==null&&!Ue?(Hf(e,i,h),ur(e,i,h)):(Ht&&l&&bf(i),i.flags|=1,Ge(e,i,a,h),i.child)}function Oy(e,i,a,l,h,d){return Zs(i),i.updateQueue=null,a=Ng(i,l,a,h),Dg(e),l=qf(),e!==null&&!Ue?(Hf(e,i,d),ur(e,i,d)):(Ht&&l&&bf(i),i.flags|=1,Ge(e,i,a,d),i.child)}function My(e,i,a,l,h){if(Zs(i),i.stateNode===null){var d=ja,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ze(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ze(v):ja,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nd.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=ea(a,T);d.props=I;var H=d.context,W=a.contextType;v=ja,typeof W=="object"&&W!==null&&(v=Ze(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&_y(i,d,l,v),Lr=!1;var F=i.memoizedState;d.state=F,fl(i,l,d,h),hl(),H=i.memoizedState,T||F!==H||Lr?(typeof J=="function"&&(ed(i,a,J,l),H=i.memoizedState),(I=Lr||yy(i,a,I,l,F,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(e,i),v=i.memoizedProps,W=ea(a,v),d.props=W,J=i.pendingProps,F=d.context,H=a.contextType,I=ja,typeof H=="object"&&H!==null&&(I=Ze(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&_y(i,d,l,I),Lr=!1,F=i.memoizedState,d.state=F,fl(i,l,d,h),hl();var G=i.memoizedState;v!==J||F!==G||Lr||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),G=i.memoizedState),(W=Lr||yy(i,a,W,l,F,G,I)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ja(i,e.child,null,h),i.child=Ja(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ur(e,i,h),e}function Vy(e,i,a,l){return il(),i.flags|=256,Ge(e,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(e){return{baseLanes:e,cachePool:Eg()}}function od(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Hn),e}function Py(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?qr(i):Hr(),Ht){var T=de,I;if(I=T){t:{for(I=T,T=Ti;I.nodeType!==8;){if(!T){T=null;break t}if(I=ii(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Qs!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,on=i,de=null,I=!0):I=!1}I||Xs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Fd(T)?i.lanes=32:i.lanes=536870912,null;lr(i)}return T=l.children,l=l.fallback,h?(Hr(),h=i.mode,T=yc({mode:"hidden",children:T},h),l=Ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ad(a),h.childLanes=od(e,v,a),i.memoizedState=sd,l):(qr(i),ld(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(qr(i),i.flags&=-257,i=ud(e,i,a)):i.memoizedState!==null?(Hr(),i.child=e.child,i.flags|=128,i=null):(Hr(),h=l.fallback,T=i.mode,l=yc({mode:"visible",children:l.children},T),h=Ks(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ja(i,e.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(e,v,a),i.memoizedState=sd,i=h);else if(qr(i),Fd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),i=ud(e,i,a)}else if(Ue||sl(e,i,a,!1),v=(a&e.childLanes)!==0,Ue||v){if(v=ie,v!==null&&(l=a&-a,l=(l&42)!==0?1:ci(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ha(e,l),Rn(v,e,l),wy;T.data==="$?"||Id(),i=ud(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,de=ii(T.nextSibling),on=i,Ht=!0,$s=null,Ti=!1,e!==null&&(zn[Bn++]=ir,zn[Bn++]=rr,zn[Bn++]=Qs,ir=e.id,rr=e.overflow,Qs=i),i=ld(i,l.children),i.flags|=4096);return i}return h?(Hr(),h=l.fallback,T=i.mode,I=e.child,H=I.sibling,l=nr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=nr(H,h):(h=Ks(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=ad(a):(I=T.cachePool,I!==null?(H=Ne._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Eg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=od(e,v,a),i.memoizedState=sd,l):(qr(i),a=e.child,e=a.sibling,a=nr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function ld(e,i){return i=yc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ud(e,i,a){return Ja(i,e.child,null,a),e=ld(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function xy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),If(e.return,i,a)}function cd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ky(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ge(e,i,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xy(e,a,i);else if(e.tag===19)xy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Oe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&dc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&dc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}cd(i,!0,a,null,d);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ur(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(sl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=nr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=nr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function fS(e,i,a){switch(i.tag){case 3:Yt(i,i.stateNode.containerInfo),kr(i,Ne,e.memoizedState.cache),il();break;case 27:case 5:ai(i);break;case 4:Yt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(e,i,a):(qr(i),e=ur(e,i,a),e!==null?e.sibling:null);qr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(sl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Oe,Oe.current),l)break;return null;case 22:case 23:return i.lanes=0,Dy(e,i,a);case 24:kr(i,Ne,e.memoizedState.cache)}return ur(e,i,a)}function Ly(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ue=!0;else{if(!hd(e,a)&&(i.flags&128)===0)return Ue=!1,fS(e,i,a);Ue=(e.flags&131072)!==0}else Ue=!1,Ht&&(i.flags&1048576)!==0&&dg(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ef(l)?(e=ea(l,e),i.tag=1,i=My(null,i,l,e,a)):(i.tag=0,i=rd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ot){i.tag=11,i=Ry(null,i,l,e,a);break t}else if(h===C){i.tag=14,i=Iy(null,i,l,e,a);break t}}throw i=pe(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ea(l,i.pendingProps),My(e,i,l,h,a);case 3:t:{if(Yt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(e,i),fl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,kr(i,Ne,l),l!==d.cache&&Cf(i,[Ne],a,!0),hl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(e,i,l,a);break t}else if(l!==h){h=Ln(Error(s(424)),i),rl(h),i=Vy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=ii(e.firstChild),on=i,Ht=!0,$s=null,Ti=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),l===h){i=ur(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return gc(e,i),e===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=Oc(Tt.current).createElement(a),l[ge]=i,l[oe]=e,Qe(l,a,e),le(l),i.stateNode=l):i.memoizedState=q_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ai(i),e===null&&Ht&&(l=i.stateNode=U_(i.type,i.pendingProps,Tt.current),on=i,Ti=!0,h=de,Wr(i.type)?(Gd=h,de=ii(l.firstChild)):de=h),Ge(e,i,i.pendingProps.children,a),gc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=de)&&(l=BS(l,i.type,i.pendingProps,Ti),l!==null?(i.stateNode=l,on=i,de=ii(l.firstChild),Ti=!1,h=!0):h=!1),h||Xs(i)),ai(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,qd(h,d)?l=null:v!==null&&qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(e,i,rS,null,null,a),Pl._currentValue=h),gc(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=de)&&(a=qS(a,i.pendingProps,Ti),a!==null?(i.stateNode=a,on=i,de=null,e=!0):e=!1),e||Xs(i)),null;case 13:return Py(e,i,a);case 4:return Yt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ja(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return Ry(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Zs(i),h=Ze(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return Iy(e,i,i.type,i.pendingProps,a);case 15:return Cy(e,i,i.type,i.pendingProps,a);case 19:return ky(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=yc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=nr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Dy(e,i,a);case 24:return Zs(i),l=Ze(Ne),e===null?(h=Of(),h===null&&(h=ie,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),kr(i,Ne,h)):((e.lanes&a)!==0&&(Pf(e,i),fl(i,null,null,a),hl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,Ne,l)):(l=d.cache,kr(i,Ne,l),l!==h.cache&&Cf(i,[Ne],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function cr(e){e.flags|=4}function Uy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!K_(i)){if(i=qn.current,i!==null&&((Lt&4194048)===Lt?Si!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==Si))throw ul=Mf,Tg;e.flags|=8192}}function _c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Dr():536870912,e.lanes|=i,io|=i)}function vl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function dS(e,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(i),null;case 1:return ue(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ar(Ne),Cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nl(i)?cr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),ue(i),null;case 26:return a=i.memoizedState,e===null?(cr(i),a!==null?(ue(i),Uy(i,a)):(ue(i),i.flags&=-16777217)):a?a!==e.memoizedState?(cr(i),ue(i),Uy(i,a)):(ue(i),i.flags&=-16777217):(e.memoizedProps!==l&&cr(i),ue(i),i.flags&=-16777217),null;case 27:Kn(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&cr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ue(i),null}e=pt.current,nl(i)?mg(i):(e=U_(h,l,a),i.stateNode=e,cr(i))}return ue(i),null;case 5:if(Kn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&cr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ue(i),null}if(e=pt.current,nl(i))mg(i);else{switch(h=Oc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[ge]=i,e[oe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&cr(i)}}return ue(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&cr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,nl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ge]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(e.nodeValue,a)),e||Xs(i)}else e=Oc(e).createTextNode(l),e[ge]=i,i.stateNode=e}return ue(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=nl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ge]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ue(i),h=!1}else h=gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(lr(i),i):(lr(i),null)}if(lr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),ue(i),null;case 4:return Cn(),e===null&&kd(i.stateNode.containerInfo),ue(i),null;case 10:return ar(i.type),ue(i),null;case 19:if(lt(Oe),h=i.memoizedState,h===null)return ue(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)vl(h,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=dc(e),d!==null){for(i.flags|=128,vl(h,!1),e=d.updateQueue,i.updateQueue=e,_c(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fg(a,e),a=a.sibling;return it(Oe,Oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&un()>Tc&&(i.flags|=128,l=!0,vl(h,!1),i.lanes=4194304)}else{if(!l)if(e=dc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,_c(i,e),vl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ue(i),null}else 2*un()-h.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,l=!0,vl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=un(),i.sibling=null,e=Oe.current,it(Oe,l?e&1|2:e&1),i):(ue(i),null);case 22:case 23:return lr(i),Uf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ue(i),i.subtreeFlags&6&&(i.flags|=8192)):ue(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&lt(Js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ar(Ne),ue(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function mS(e,i){switch(Af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ar(Ne),Cn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(lr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt(Oe),null;case 4:return Cn(),null;case 10:return ar(i.type),null;case 22:case 23:return lr(i),Uf(),e!==null&&lt(Js),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ar(Ne),null;case 25:return null;default:return null}}function zy(e,i){switch(Af(i),i.tag){case 3:ar(Ne),Cn();break;case 26:case 27:case 5:Kn(i);break;case 4:Cn();break;case 13:lr(i);break;case 19:lt(Oe);break;case 10:ar(i.type);break;case 22:case 23:lr(i),Uf(),e!==null&&lt(Js);break;case 24:ar(Ne)}}function El(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ne(i,i.return,T)}}function jr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,H=T;try{H()}catch(W){ne(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){ne(i,i.return,W)}}function By(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ig(i,a)}catch(l){ne(e,e.return,l)}}}function qy(e,i,a){a.props=ea(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ne(e,i,l)}}function Tl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ne(e,i,h)}}function bi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function Hy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function fd(e,i,a){try{var l=e.stateNode;xS(l,e.type,a,i),l[oe]=i}catch(h){ne(e,e.return,h)}}function jy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wr(e.type)||e.tag===4}function dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nc));else if(l!==4&&(l===27&&Wr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(md(e,i,a),e=e.sibling;e!==null;)md(e,i,a),e=e.sibling}function vc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Wr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vc(e,i,a),e=e.sibling;e!==null;)vc(e,i,a),e=e.sibling}function Fy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[ge]=e,i[oe]=a}catch(d){ne(e,e.return,d)}}var hr=!1,_e=!1,pd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function pS(e,i){if(e=e.containerInfo,zd=Lc,e=ng(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,H=0,W=0,J=e,F=null;e:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===e)break e;if(F===a&&++H===h&&(T=v),F===d&&++W===l&&(I=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:e,selectionRange:a},Lc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var St=ea(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(St,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){ne(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Ky(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(e,a),l&4&&El(5,a);break;case 1:if(Fr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=ea(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}l&64&&By(a),l&512&&Tl(a,a.return);break;case 3:if(Fr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ig(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&l&4&&Fy(a);case 26:case 5:Fr(e,a),i===null&&l&4&&Hy(a),l&512&&Tl(a,a.return);break;case 12:Fr(e,a);break;case 13:Fr(e,a),l&4&&$y(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=AS.bind(null,a),HS(e,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){i=i!==null&&i.memoizedState!==null||_e,h=hr;var d=_e;hr=l,(_e=i)&&!d?Gr(e,a,(a.subtreeFlags&8772)!==0):Fr(e,a),hr=h,_e=d}break;case 30:break;default:Fr(e,a)}}function Qy(e){var i=e.alternate;i!==null&&(e.alternate=null,Qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,fn=!1;function fr(e,i,a){for(a=a.child;a!==null;)Yy(e,i,a),a=a.sibling}function Yy(e,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:_e||bi(a,i),fr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||bi(a,i);var l=ae,h=fn;Wr(a.type)&&(ae=a.stateNode,fn=!1),fr(e,i,a),Nl(a.stateNode),ae=l,fn=h;break;case 5:_e||bi(a,i);case 6:if(l=ae,h=fn,ae=null,fr(e,i,a),ae=l,fn=h,ae!==null)if(fn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){ne(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){ne(a,i,d)}break;case 18:ae!==null&&(fn?(e=ae,k_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ul(e)):k_(ae,a.stateNode));break;case 4:l=ae,h=fn,ae=a.stateNode.containerInfo,fn=!0,fr(e,i,a),ae=l,fn=h;break;case 0:case 11:case 14:case 15:_e||jr(2,a,i),_e||jr(4,a,i),fr(e,i,a);break;case 1:_e||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,i,l)),fr(e,i,a);break;case 21:fr(e,i,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,fr(e,i,a),_e=l;break;default:fr(e,i,a)}}function $y(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ul(e)}catch(a){ne(i,i.return,a)}}function gS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gy),i;default:throw Error(s(435,e.tag))}}function gd(e,i){var a=gS(e);i.forEach(function(l){var h=wS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Wr(T.type)){ae=T.stateNode,fn=!1;break t}break;case 5:ae=T.stateNode,fn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Yy(d,v,h),ae=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xy(i,e),i=i.sibling}var ni=null;function Xy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sn(i,e),bn(e),l&4&&(jr(3,e,e.return),El(3,e),jr(5,e,e.return));break;case 1:Sn(i,e),bn(e),l&512&&(_e||a===null||bi(a,a.return)),l&64&&hr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Sn(i,e),bn(e),l&512&&(_e||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,l,a),d[ge]=e,le(d),l=d;break t;case"link":var v=F_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=F_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ge]=e,le(d),l=d}e.stateNode=l}else G_(h,e.type,e.stateNode);else e.stateNode=j_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?G_(h,e.type,e.stateNode):j_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,e),bn(e),l&512&&(_e||a===null||bi(a,a.return)),a!==null&&l&4&&fd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,e),bn(e),l&512&&(_e||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(G){ne(e,e.return,G)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,fd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(Sn(i,e),bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){ne(e,e.return,G)}}break;case 3:if(Pc=null,h=ni,ni=Mc(i.containerInfo),Sn(i,e),ni=h,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(G){ne(e,e.return,G)}pd&&(pd=!1,Wy(e));break;case 4:l=ni,ni=Mc(e.stateNode.containerInfo),Sn(i,e),bn(e),ni=l;break;case 12:Sn(i,e),bn(e);break;case 13:Sn(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=un()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=hr,W=_e;if(hr=H||h,_e=W||I,Sn(i,e),_e=W,hr=H,bn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||hr||_e||na(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){ne(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){ne(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(e,a))));break;case 19:Sn(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 30:break;case 21:break;default:Sn(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(e);vc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Vn(v,""),a.flags&=-33);var T=dd(e);vc(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=dd(e);md(e,H,I);break;default:throw Error(s(161))}}catch(W){ne(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Fr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(e,i.alternate,i),i=i.sibling}function na(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),na(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),na(i);break;case 27:Nl(i.stateNode);case 26:case 5:bi(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}e=e.sibling}}function Gr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Gr(h,d,a),El(4,d);break;case 1:if(Gr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ne(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Rg(I[h],T)}catch(H){ne(l,l.return,H)}}a&&v&64&&By(d),Tl(d,d.return);break;case 27:Fy(d);case 26:case 5:Gr(h,d,a),a&&l===null&&v&4&&Hy(d),Tl(d,d.return);break;case 12:Gr(h,d,a);break;case 13:Gr(h,d,a),a&&v&4&&$y(h,d);break;case 22:d.memoizedState===null&&Gr(h,d,a),Tl(d,d.return);break;case 30:break;default:Gr(h,d,a)}i=i.sibling}}function yd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&al(a))}function _d(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&al(e))}function Ai(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(e,i,a,l),i=i.sibling}function Zy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ai(e,i,a,l),h&2048&&El(9,i);break;case 1:Ai(e,i,a,l);break;case 3:Ai(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&al(e)));break;case 12:if(h&2048){Ai(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ne(i,i.return,I)}}else Ai(e,i,a,l);break;case 13:Ai(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ai(e,i,a,l):Sl(e,i):d._visibility&2?Ai(e,i,a,l):(d._visibility|=2,to(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(v,i);break;case 24:Ai(e,i,a,l),h&2048&&_d(i.alternate,i);break;default:Ai(e,i,a,l)}}function to(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:to(d,v,T,I,h),El(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?to(d,v,T,I,h):Sl(d,v):(W._visibility|=2,to(d,v,T,I,h)),h&&H&2048&&yd(v.alternate,v);break;case 24:to(d,v,T,I,h),h&&H&2048&&_d(v.alternate,v);break;default:to(d,v,T,I,h)}i=i.sibling}}function Sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&yd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&_d(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var bl=8192;function eo(e){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 26:eo(e),e.flags&bl&&e.memoizedState!==null&&eb(ni,e.memoizedState,e.memoizedProps);break;case 5:eo(e);break;case 3:case 4:var i=ni;ni=Mc(e.stateNode.containerInfo),eo(e),ni=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=bl,bl=16777216,eo(e),bl=i):eo(e));break;default:eo(e)}}function t_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,n_(l,e)}t_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e_(e),e=e.sibling}function e_(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ec(e)):Al(e);break;default:Al(e)}}function Ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,n_(l,e)}t_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:jr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}e=e.sibling}}function n_(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var h=l.sibling,d=l.return;if(Qy(l),l===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var yS={getCacheForType:function(e){var i=Ze(Ne),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},_S=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,Nt=null,Lt=0,Kt=0,An=null,Kr=!1,no=!1,vd=!1,dr=0,me=0,Qr=0,ia=0,Ed=0,Hn=0,io=0,wl=null,dn=null,Td=!1,Sd=0,Tc=1/0,Sc=null,Yr=null,Ke=0,$r=null,ro=null,so=0,bd=0,Ad=null,i_=null,Rl=0,wd=null;function wn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var e=Ka;return e!==0?e:Md()}return Yn()}function r_(){Hn===0&&(Hn=(Lt&536870912)===0||Ht?Ds():536870912);var e=qn.current;return e!==null&&(e.flags|=32),Hn}function Rn(e,i,a){(e===ie&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ao(e,0),Xr(e,Lt,Hn,!1)),Dn(e,a),((Gt&2)===0||e!==ie)&&(e===ie&&((Gt&2)===0&&(ia|=a),me===4&&Xr(e,Lt,Hn,!1)),wi(e))}function s_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Fi(e,i),h=l?TS(e,i):Cd(e,i,!0),d=l;do{if(h===0){no&&!l&&Xr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!vS(a)){h=Cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=wl;var I=T.current.memoizedState.isDehydrated;if(I&&(ao(T,v).flags|=256),v=Cd(T,v,!1),v!==2){if(vd&&!I){T.errorRecoveryDisabledLanes|=d,ia|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ao(e,0),Xr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xr(l,i,Hn,!Kr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sd+300-un(),10<h)){if(Xr(l,i,Hn,!Kr),ji(l,0,!0)!==0)break t;l.timeoutHandle=P_(a_.bind(null,l,a,dn,Sc,Td,i,Hn,ia,io,Kr,d,2,-0,0),h);break t}a_(l,a,dn,Sc,Td,i,Hn,ia,io,Kr,d,0,-0,0)}}break}while(!0);wi(e)}function a_(e,i,a,l,h,d,v,T,I,H,W,J,F,G){if(e.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:tb},Jy(i),J=nb(),J!==null)){e.cancelPendingCommit=J(d_.bind(null,e,i,d,a,l,h,v,T,I,W,1,F,G)),Xr(e,d,v,!H);return}d_(e,i,d,a,l,h,v,T,I)}function vS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(e,i,a,l){i&=~Ed,i&=~ia,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-xe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yn(e,a,i)}function bc(){return(Gt&6)===0?(Il(0),!1):!0}function Rd(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,sr=Ws=null,jf(e),Za=null,yl=0,e=Nt;for(;e!==null;)zy(e.alternate,e),e=e.return;Nt=null}}function ao(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,LS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rd(),ie=e,Nt=a=nr(e.current,null),Lt=i,Kt=0,An=null,Kr=!1,no=Fi(e,i),vd=!1,io=Hn=Ed=ia=Qr=me=0,dn=wl=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-xe(l),d=1<<h;i|=e[h],l&=~d}return dr=i,Gu(),a}function o_(e,i){Ct=null,X.H=cc,i===ll||i===tc?(i=Ag(),Kt=3):i===Tg?(i=Ag(),Kt=4):Kt=i===wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Nt===null&&(me=1,pc(e,Ln(i,e.current)))}function l_(){var e=X.H;return X.H=cc,e===null?cc:e}function u_(){var e=X.A;return X.A=yS,e}function Id(){me=4,Kr||(Lt&4194048)!==Lt&&qn.current!==null||(no=!0),(Qr&134217727)===0&&(ia&134217727)===0||ie===null||Xr(ie,Lt,Hn,!1)}function Cd(e,i,a){var l=Gt;Gt|=2;var h=l_(),d=u_();(ie!==e||Lt!==i)&&(Sc=null,ao(e,i)),i=!1;var v=me;t:do try{if(Kt!==0&&Nt!==null){var T=Nt,I=An;switch(Kt){case 8:Rd(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var H=Kt;if(Kt=0,An=null,oo(e,T,I,H),a&&no){v=0;break t}break;default:H=Kt,Kt=0,An=null,oo(e,T,I,H)}}ES(),v=me;break}catch(W){o_(e,W)}while(!0);return i&&e.shellSuspendCounter++,sr=Ws=null,Gt=l,X.H=h,X.A=d,Nt===null&&(ie=null,Lt=0,Gu()),v}function ES(){for(;Nt!==null;)c_(Nt)}function TS(e,i){var a=Gt;Gt|=2;var l=l_(),h=u_();ie!==e||Lt!==i?(Sc=null,Tc=un()+500,ao(e,i)):no=Fi(e,i);t:do try{if(Kt!==0&&Nt!==null){i=Nt;var d=An;e:switch(Kt){case 1:Kt=0,An=null,oo(e,i,d,1);break;case 2:case 9:if(Sg(d)){Kt=0,An=null,h_(i);break}i=function(){Kt!==2&&Kt!==9||ie!==e||(Kt=7),wi(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Sg(d)?(Kt=0,An=null,h_(i)):(Kt=0,An=null,oo(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||K_(v)){Kt=0,An=null;var I=T.sibling;if(I!==null)Nt=I;else{var H=T.return;H!==null?(Nt=H,Ac(H)):Nt=null}break e}}Kt=0,An=null,oo(e,i,d,5);break;case 6:Kt=0,An=null,oo(e,i,d,6);break;case 8:Rd(),me=6;break t;default:throw Error(s(462))}}SS();break}catch(W){o_(e,W)}while(!0);return sr=Ws=null,X.H=l,X.A=h,Gt=a,Nt!==null?0:(ie=null,Lt=0,Gu(),me)}function SS(){for(;Nt!==null&&!bs();)c_(Nt)}function c_(e){var i=Ly(e.alternate,e,dr);e.memoizedProps=e.pendingProps,i===null?Ac(e):Nt=i}function h_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Oy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Oy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:jf(i);default:zy(a,i),i=Nt=fg(i,dr),i=Ly(a,i,dr)}e.memoizedProps=e.pendingProps,i===null?Ac(e):Nt=i}function oo(e,i,a,l){sr=Ws=null,jf(i),Za=null,yl=0;var h=i.return;try{if(hS(e,h,i,a,Lt)){me=1,pc(e,Ln(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;me=1,pc(e,Ln(a,e.current)),Nt=null;return}i.flags&32768?(Ht||l===1?e=!0:no||(Lt&536870912)!==0?e=!1:(Kr=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,e)):Ac(i)}function Ac(e){var i=e;do{if((i.flags&32768)!==0){f_(i,Kr);return}e=i.return;var a=dS(i.alternate,i,dr);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);me===0&&(me=5)}function f_(e,i){do{var a=mS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);me=6,Nt=null}function d_(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do wc();while(Ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,Ns(e,a,d,v,T,I),e===ie&&(Nt=ie=null,Lt=0),ro=i,$r=e,so=a,bd=d,Ad=h,i_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RS(qi,function(){return __(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{pS(e,i,a)}finally{Gt=v,at.p=h,X.T=l}}Ke=1,m_(),p_(),g_()}}function m_(){if(Ke===1){Ke=0;var e=$r,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Xy(i,e);var d=Bd,v=ng(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&eg(T.ownerDocument.documentElement,T)){if(I!==null&&df(T)){var H=I.start,W=I.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),St=T.textContent.length,yt=Math.min(I.start,St),Zt=I.end===void 0?yt:Math.min(I.end,St);!G.extend&&yt>Zt&&(v=Zt,Zt=yt,yt=v);var L=tg(T,yt),M=tg(T,Zt);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var q=J.createRange();q.setStart(L.node,L.offset),G.removeAllRanges(),yt>Zt?(G.addRange(q),G.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),G.addRange(q))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Lc=!!zd,Bd=zd=null}finally{Gt=h,at.p=l,X.T=a}}e.current=i,Ke=2}}function p_(){if(Ke===2){Ke=0;var e=$r,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Ky(e,i.alternate,i)}finally{Gt=h,at.p=l,X.T=a}}Ke=3}}function g_(){if(Ke===4||Ke===3){Ke=0,As();var e=$r,i=ro,a=so,l=i_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,ro=$r=null,y_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Yr=null),Nr(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=at.p,at.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=i,at.p=h}}(so&3)!==0&&wc(),wi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===wd?Rl++:(Rl=0,wd=e):Rl=0,Il(0)}}function y_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,al(i)))}function wc(e){return m_(),p_(),g_(),__()}function __(){if(Ke!==5)return!1;var e=$r,i=bd;bd=0;var a=Nr(so),l=X.T,h=at.p;try{at.p=32>a?32:a,X.T=null,a=Ad,Ad=null;var d=$r,v=so;if(Ke=0,ro=$r=null,so=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,e_(d.current),Zy(d,d.current,v,a),Gt=T,Il(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,d)}catch{}return!0}finally{at.p=h,X.T=l,y_(e,i)}}function v_(e,i,a){i=Ln(a,i),i=id(e.stateNode,i,2),e=zr(e,i,2),e!==null&&(Dn(e,2),wi(e))}function ne(e,i,a){if(e.tag===3)v_(e,e,a);else for(;i!==null;){if(i.tag===3){v_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){e=Ln(a,e),a=by(2),l=zr(i,a,2),l!==null&&(Ay(a,l,i,e),Dn(l,2),wi(l));break}}i=i.return}}function Dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _S;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vd=!0,h.add(a),e=bS.bind(null,e,i,a),i.then(e,e))}function bS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(Lt&a)===a&&(me===4||me===3&&(Lt&62914560)===Lt&&300>un()-Sd?(Gt&2)===0&&ao(e,0):Ed|=a,io===Lt&&(io=0)),wi(e)}function E_(e,i){i===0&&(i=Dr()),e=Ha(e,i),e!==null&&(Dn(e,i),wi(e))}function AS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),E_(e,a)}function wS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),E_(e,a)}function RS(e,i){return sn(e,i)}var Rc=null,lo=null,Nd=!1,Ic=!1,Od=!1,ra=0;function wi(e){e!==lo&&e.next===null&&(lo===null?Rc=lo=e:lo=lo.next=e),Ic=!0,Nd||(Nd=!0,CS())}function Il(e,i){if(!Od&&Ic){Od=!0;do for(var a=!1,l=Rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=Lt,d=ji(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fi(l,d)||(a=!0,A_(l,d));l=l.next}while(a);Od=!1}}function IS(){T_()}function T_(){Ic=Nd=!1;var e=0;ra!==0&&(kS()&&(e=ra),ra=0);for(var i=un(),a=null,l=Rc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(lo=a)):(a=l,(e!==0||(d&3)!==0)&&(Ic=!0)),l=h}Il(e)}function S_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-xe(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Cs(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=ie,a=Lt,a=ji(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&oi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&oi(l),Nr(a)){case 2:case 8:a=Bi;break;case 32:a=qi;break;case 268435456:a=Cr;break;default:a=qi}return l=b_.bind(null,e),a=sn(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&oi(l),e.callbackPriority=2,e.callbackNode=null,2}function b_(e,i){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(wc()&&e.callbackNode!==a)return null;var l=Lt;return l=ji(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(s_(e,l,i),S_(e,un()),e.callbackNode!=null&&e.callbackNode===a?b_.bind(null,e):null)}function A_(e,i){if(wc())return null;s_(e,i,!0)}function CS(){US(function(){(Gt&6)!==0?sn(ws,IS):T_()})}function Md(){return ra===0&&(ra=Ds()),ra}function w_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function R_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function DS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[oe]||null).action),v=l.submitter;v&&(i=(i=v[oe]||null)?w_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Oa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var I=v?R_(h,v):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?R_(h,v):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<yf.length;Vd++){var Pd=yf[Vd],NS=Pd.toLowerCase(),OS=Pd[0].toUpperCase()+Pd.slice(1);ei(NS,"on"+OS)}ei(sg,"onAnimationEnd"),ei(ag,"onAnimationIteration"),ei(og,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Y1,"onTransitionRun"),ei($1,"onTransitionStart"),ei(X1,"onTransitionCancel"),ei(lg,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function I_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=H;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=H;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=I}}}}function Ot(e,i){var a=i[Or];a===void 0&&(a=i[Or]=new Set);var l=e+"__bubble";a.has(l)||(C_(i,e,2,!1),a.add(l))}function xd(e,i,a){var l=0;i&&(l|=4),C_(a,e,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function kd(e){if(!e[Cc]){e[Cc]=!0,Ms.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||xd(a,!1,e),xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,xd("selectionchange",!1,i))}}function C_(e,i,a,l){switch(Z_(i)){case 2:var h=sb;break;case 8:h=ab;break;default:h=Xd}a=h.bind(null,i,a,e),h=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ld(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Xn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Nu(function(){var H=d,W=Pn(a),J=[];t:{var F=ug.get(e);if(F!==void 0){var G=Oa,St=e;switch(e){case"keypress":if(gi(a)===0)break t;case"keydown":case"keyup":G=La;break;case"focusin":St="focus",G=Pa;break;case"focusout":St="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Uu;break;case sg:case ag:case og:G=xa;break;case lg:G=Bu;break;case"scroll":case"scrollend":G=Ou;break;case"wheel":G=Ua;break;case"copy":case"cut":case"paste":G=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Zo;break;case"toggle":case"beforetoggle":G=Hu}var yt=(i&4)!==0,Zt=!yt&&(e==="scroll"||e==="scrollend"),L=yt?F!==null?F+"Capture":null:F;yt=[];for(var M=H,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Ls(M,L),Z!=null&&yt.push(Dl(M,Z,q))),Zt)break;M=M.return}0<yt.length&&(F=new G(F,St,null,a,W),J.push({event:F,listeners:yt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&a!==Xi&&(St=a.relatedTarget||a.fromElement)&&(Xn(St)||St[cn]))break t;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(St=a.relatedTarget||a.toElement,G=H,St=St?Xn(St):null,St!==null&&(Zt=u(St),yt=St.tag,St!==Zt||yt!==5&&yt!==27&&yt!==6)&&(St=null)):(G=null,St=H),G!==St)){if(yt=kn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Zo,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Zt=G==null?F:On(G),q=St==null?F:On(St),F=new yt(Z,M+"leave",G,a,W),F.target=Zt,F.relatedTarget=q,Z=null,Xn(W)===H&&(yt=new yt(L,M+"enter",St,a,W),yt.target=q,yt.relatedTarget=Zt,Z=yt),Zt=Z,G&&St)e:{for(yt=G,L=St,M=0,q=yt;q;q=uo(q))M++;for(q=0,Z=L;Z;Z=uo(Z))q++;for(;0<M-q;)yt=uo(yt),M--;for(;0<q-M;)L=uo(L),q--;for(;M--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=uo(yt),L=uo(L)}yt=null}else yt=null;G!==null&&D_(J,F,G,yt,!1),St!==null&&Zt!==null&&D_(J,Zt,St,yt,!0)}}t:{if(F=H?On(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ct=Yp;else if(De(F))if($p)ct=G1;else{ct=j1;var Dt=H1}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Go(H.elementType)&&(ct=Yp):ct=F1;if(ct&&(ct=ct(e,H))){er(J,ct,a,W);break t}Dt&&Dt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Pr(F,"number",F.value)}switch(Dt=H?On(H):window,e){case"focusin":(De(Dt)||Dt.contentEditable==="true")&&(za=Dt,mf=H,el=null);break;case"focusout":el=mf=za=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,ig(J,a,W);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":ig(J,a,W)}var mt;if(vi)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else xt?K(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(xt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&xt&&(mt=Qo()):(pi=W,xr="value"in pi?pi.value:pi.textContent,xt=!0)),Dt=Dc(H,_t),0<Dt.length&&(_t=new Xo(_t,e,null,a,W),J.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=st(a),mt!==null&&(_t.data=mt)))),(mt=p?Ce(e,a):kt(e,a))&&(_t=Dc(H,"onBeforeInput"),0<_t.length&&(Dt=new Xo("onBeforeInput","beforeinput",null,a,W),J.push({event:Dt,listeners:_t}),Dt.data=mt)),DS(J,e,H,a,W)}I_(J,i)})}function Dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ls(e,a),h!=null&&l.unshift(Dl(e,h,d)),h=Ls(e,i),h!=null&&l.push(Dl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function D_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Ls(a,d),H!=null&&v.unshift(Dl(a,H,I))):h||(H=Ls(a,d),H!=null&&v.push(Dl(a,H,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var VS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function N_(e){return(typeof e=="string"?e:""+e).replace(VS,`
`).replace(PS,"")}function O_(e,i){return i=N_(i),N_(e)===i}function Nc(){}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vn(e,""+l);break;case"className":Mn(e,"class",l);break;case"tabIndex":Mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(e,a,l);break;case"style":Fo(e,l,d);break;case"data":if(i!=="object"){Mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Nc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),di(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":di(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,di(e,a,l))}}function Ud(e,i,a,l,h,d){switch(a){case"style":Fo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[oe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):di(e,a,l)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Wt(e,i,l,W,a,null)}}Ps(e,d,T,I,H,v,h,!1),Da(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?$i(e,!!l,i,!1):a!=null&&$i(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,i,v,T,a,null)}xs(e,l,h,d),Da(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,i,I,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ot(Cl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,H,l,a,null)}return;default:if(Go(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Ud(e,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,i,T,l,a,null))}function xS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,H=null,W=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Wt(e,i,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Wt(e,i,F,G,l,J)}}vn(e,v,T,I,H,W,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Wt(e,i,h,d,l,I)}i=T,a=v,l=G,F!=null?$i(e,!!a,F,!1):!!l!=!!a&&(i!=null?$i(e,!!a,i,!0):$i(e,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,v,h,l,d)}$t(e,F,G);return;case"option":for(var St in a)if(F=a[St],a.hasOwnProperty(St)&&F!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Wt(e,i,St,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Wt(e,i,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!l.hasOwnProperty(yt)&&Wt(e,i,yt,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Wt(e,i,H,F,l,G)}return;default:if(Go(i)){for(var Zt in a)F=a[Zt],a.hasOwnProperty(Zt)&&F!==void 0&&!l.hasOwnProperty(Zt)&&Ud(e,i,Zt,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Ud(e,i,W,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Wt(e,i,L,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Wt(e,i,J,F,l,G)}var zd=null,Bd=null;function Oc(e){return e.nodeType===9?e:e.ownerDocument}function M_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function qd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function kS(){var e=window.event;return e&&e.type==="popstate"?e===Hd?!1:(Hd=e,!0):(Hd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(zS)}:P_;function zS(e){setTimeout(function(){throw e})}function Wr(e){return e==="head"}function k_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Nl(v.documentElement),a&2&&Nl(v.body),a&4)for(a=v.head,Nl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[hi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ul(i)}function jd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function BS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function qS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ii(e.nextSibling),e===null))return null;return e}function Fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function HS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ii(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Gd=null;function L_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function U_(e,i,a){switch(i=Oc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fi(e)}var jn=new Map,z_=new Set;function Mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=at.d;at.d={f:jS,r:FS,D:GS,C:KS,L:QS,m:YS,X:XS,S:$S,M:WS};function jS(){var e=mr.f(),i=bc();return e||i}function FS(e){var i=Nn(e);i!==null&&i.tag===5&&i.type==="form"?sy(i):mr.r(e)}var co=typeof document>"u"?null:document;function B_(e,i,a){var l=co;if(l&&typeof i=="string"&&i){var h=Te(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",e),le(i),l.head.appendChild(i)))}}function GS(e){mr.D(e),B_("dns-prefetch",e,null)}function KS(e,i){mr.C(e,i),B_("preconnect",e,i)}function QS(e,i,a){mr.L(e,i,a);var l=co;if(l&&e&&i){var h='link[rel="preload"][as="'+Te(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Te(a.imageSizes)+'"]')):h+='[href="'+Te(e)+'"]';var d=h;switch(i){case"style":d=ho(e);break;case"script":d=fo(e)}jn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(Ml(d))||(i=l.createElement("link"),Qe(i,"link",e),le(i),l.head.appendChild(i)))}}function YS(e,i){mr.m(e,i);var a=co;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(e)}if(!jn.has(d)&&(e=E({rel:"modulepreload",href:e},i),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Qe(l,"link",e),le(l),a.head.appendChild(l)}}}function $S(e,i,a){mr.S(e,i,a);var l=co;if(l&&e){var h=je(l).hoistableStyles,d=ho(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ol(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(d))&&Kd(e,a);var I=v=l.createElement("link");le(I),Qe(I,"link",e),I._p=new Promise(function(H,W){I.onload=H,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function XS(e,i){mr.X(e,i);var a=co;if(a&&e){var l=je(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(e=E({src:e,async:!0},i),(i=jn.get(h))&&Qd(e,i),d=a.createElement("script"),le(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WS(e,i){mr.M(e,i);var a=co;if(a&&e){var l=je(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Qd(e,i),d=a.createElement("script"),le(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(e,i,a,l){var h=(h=Tt.current)?Mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ho(a.href),a=je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ho(a.href);var d=je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Ol(e)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||ZS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ho(e){return'href="'+Te(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function H_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function ZS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),le(i),e.head.appendChild(i))}function fo(e){return'[src="'+Te(e)+'"]'}function Ml(e){return"script[async]"+e}function j_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return i.instance=l,le(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),le(l),Qe(l,"style",h),Vc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ho(a.href);var d=e.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,le(d),d;l=H_(a),(h=jn.get(h))&&Kd(l,h),d=(e.ownerDocument||e).createElement("link"),le(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Qe(d,"link",l),i.state.loading|=4,Vc(d,a.precedence,e),i.instance=d;case"script":return d=fo(a.src),(h=e.querySelector(Ml(d)))?(i.instance=h,le(h),h):(l=a,(h=jn.get(d))&&(l=E({},a),Qd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vc(l,a.precedence,e));return i.instance}function Vc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Pc=null;function F_(e,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[ge]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function G_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function JS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vl=null;function tb(){}function eb(e,i,a){if(Vl===null)throw Error(s(475));var l=Vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ho(a.href),d=e.querySelector(Ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=xc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,le(d);return}d=e.ownerDocument||e,a=H_(a),(h=jn.get(h))&&Kd(a,h),d=d.createElement("link"),le(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Qe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=xc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function nb(){if(Vl===null)throw Error(s(475));var e=Vl;return e.stylesheets&&e.count===0&&Yd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Yd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Yd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,i.forEach(ib,e),kc=null,xc.call(e))}function ib(e,i){if(!(i.state.loading&4)){var a=kc.get(e);if(a)var l=a.get(null);else{a=new Map,kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Pl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function rb(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Q_(e,i,a,l,h,d,v,T,I,H,W,J){return e=new rb(e,i,a,v,T,I,H,J),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Df(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),e}function Y_(e){return e?(e=ja,e):ja}function $_(e,i,a,l,h,d){h=Y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(e,l,i),a!==null&&(Rn(a,e,i),cl(a,e,i))}function X_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function $d(e,i){X_(e,i),(e=e.alternate)&&X_(e,i)}function W_(e){if(e.tag===13){var i=Ha(e,67108864);i!==null&&Rn(i,e,67108864),$d(e,67108864)}}var Lc=!0;function sb(e,i,a,l){var h=X.T;X.T=null;var d=at.p;try{at.p=2,Xd(e,i,a,l)}finally{at.p=d,X.T=h}}function ab(e,i,a,l){var h=X.T;X.T=null;var d=at.p;try{at.p=8,Xd(e,i,a,l)}finally{at.p=d,X.T=h}}function Xd(e,i,a,l){if(Lc){var h=Wd(l);if(h===null)Ld(e,i,l,Uc,a),J_(e,l);else if(lb(h,e,i,a,l))l.stopPropagation();else if(J_(e,l),i&4&&-1<ob.indexOf(e)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=gn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-xe(v);T.entanglements[1]|=I,v&=~I}wi(d),(Gt&6)===0&&(Tc=un()+500,Il(0))}}break;case 13:T=Ha(d,2),T!==null&&Rn(T,d,2),bc(),$d(d,2)}if(d=Wd(l),d===null&&Ld(e,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(e,i,l,null,a)}}function Wd(e){return e=Pn(e),Zd(e)}var Uc=null;function Zd(e){if(Uc=null,e=Xn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uc=e,null}function Z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ea()){case ws:return 2;case Bi:return 8;case qi:case Ta:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var Jd=!1,Zr=null,Jr=null,ts=null,xl=new Map,kl=new Map,es=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ll(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&W_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function lb(e,i,a,l,h){switch(i){case"focusin":return Zr=Ll(Zr,e,i,a,l,h),!0;case"dragenter":return Jr=Ll(Jr,e,i,a,l,h),!0;case"mouseover":return ts=Ll(ts,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Ll(xl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ll(kl.get(d)||null,e,i,a,l,h)),!0}return!1}function tv(e){var i=Xn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ba(e.priority,function(){if(a.tag===13){var l=wn();l=ci(l);var h=Ha(a,l);h!==null&&Rn(h,a,l),$d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Wd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Xi=l,a.target.dispatchEvent(l),Xi=null}else return i=Nn(a),i!==null&&W_(i),e.blockedOn=a,!1;i.shift()}return!0}function ev(e,i,a){zc(e)&&a.delete(i)}function ub(){Jd=!1,Zr!==null&&zc(Zr)&&(Zr=null),Jr!==null&&zc(Jr)&&(Jr=null),ts!==null&&zc(ts)&&(ts=null),xl.forEach(ev),kl.forEach(ev)}function Bc(e,i){e.blockedOn===i&&(e.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ub)))}var qc=null;function nv(e){qc!==e&&(qc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===e&&(qc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Nn(a);d!==null&&(e.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ul(e){function i(I){return Bc(I,e)}Zr!==null&&Bc(Zr,e),Jr!==null&&Bc(Jr,e),ts!==null&&Bc(ts,e),xl.forEach(i),kl.forEach(i);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&es.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[oe]||null;if(typeof d=="function")v||nv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[oe]||null)T=v.formAction;else if(Zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),nv(a)}}}function tm(e){this._internalRoot=e}Hc.prototype.render=tm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();$_(a,l,e,i,null,null)},Hc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;$_(e.current,2,null,e,null,null),bc(),i[cn]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Yn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,e),a===0&&tv(e)}};var iv=t.version;if(iv!=="19.1.1")throw Error(s(527,iv,"19.1.1"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var cb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{re=jc.inject(cb),qt=jc}catch{}}return Bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=vy,d=Ey,v=Ty,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Q_(e,1,!1,null,null,a,l,h,d,v,T,null),e[cn]=i.current,kd(e),new tm(i)},Bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=vy,v=Ey,T=Ty,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=Q_(e,1,!0,i,a??null,l,h,d,v,T,I,H),i.context=Y_(null),a=i.current,l=wn(),l=ci(l),h=Ur(l),h.callback=null,zr(a,h,l),a=l,i.current.lanes=a,Dn(i,a),wi(i),e[cn]=i.current,kd(e),new Hc(i)},Bl.version="19.1.1",Bl}var dv;function Tb(){if(dv)return im.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=Eb(),im.exports}var Sb=Tb();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function bb(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Tm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nu(o)}return wb(t,n,null,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Pi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ab(){return Math.random().toString(36).substring(2,10)}function pv(r,t){return{usr:r.state,key:r.key,idx:t}}function Tm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Oo(t):t,state:n,key:t&&t.key||s||Ab()}}function nu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Oo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function wb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let U=E(),$=U==null?null:U-y;y=U,g&&g({action:m,location:Q.location,delta:$})}function w(U,$){m="PUSH";let j=Tm(Q.location,U,$);y=E()+1;let Y=pv(j,y),ot=Q.createHref(j);try{f.pushState(Y,"",ot)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(ot)}u&&g&&g({action:m,location:Q.location,delta:1})}function x(U,$){m="REPLACE";let j=Tm(Q.location,U,$);y=E();let Y=pv(j,y),ot=Q.createHref(j);f.replaceState(Y,"",ot),u&&g&&g({action:m,location:Q.location,delta:0})}function B(U){return Rb(U)}let Q={get action(){return m},get location(){return r(o,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,b),g=U,()=>{o.removeEventListener(mv,b),g=null}},createHref(U){return t(o,U)},createURL:B,encodeLocation(U){let $=B(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:x,go(U){return f.go(U)}};return Q}function Rb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:nu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KE(r,t,n="/"){return Ib(r,t,n,!1)}function Ib(r,t,n,s){let o=typeof t=="string"?Oo(t):t,u=vr(o.pathname||"/",n);if(u==null)return null;let f=QE(r);Cb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=zb(u);m=Lb(f[g],y,s)}return m}function QE(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;he(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=yr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(he(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),QE(f.children,t,w,b,g)),!(f.path==null&&!f.index)&&t.push({path:b,score:xb(b,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of YE(f.path))u(f,m,!0,g)}),t}function YE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=YE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Cb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:kb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Db=/^:[\w-]+$/,Nb=3,Ob=2,Mb=1,Vb=10,Pb=-2,gv=r=>r==="*";function xb(r,t){let n=r.split("/"),s=n.length;return n.some(gv)&&(s+=Pb),t&&(s+=Ob),n.filter(o=>!gv(o)).reduce((o,u)=>o+(Db.test(u)?Nb:u===""?Mb:Vb),s)}function kb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Lb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:yr([u,b.pathname]),pathnameBase:jb(yr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=yr([u,b.pathnameBase]))}return f}function uh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ub(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let B=m[w]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const x=m[w];return b&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Ub(r,t=!1,n=!0){Pi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function zb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function vr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Bb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Oo(r):r;return{pathname:n?n.startsWith("/")?n:qb(n,t):t,search:Fb(s),hash:Gb(o)}}function qb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $E(r){let t=Hb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function XE(r,t,n,s=!1){let o;typeof r=="string"?o=Oo(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?t[b]:"/"}let g=Bb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var yr=r=>r.join("/").replace(/\/\/+/g,"/"),jb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Fb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Kb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var Qb=["GET",...WE];new Set(Qb);var Mo=P.createContext(null);Mo.displayName="DataRouter";var Oh=P.createContext(null);Oh.displayName="DataRouterState";P.createContext(!1);var ZE=P.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var Yb=P.createContext(new Map);Yb.displayName="Fetchers";var $b=P.createContext(null);$b.displayName="Await";var Li=P.createContext(null);Li.displayName="Navigation";var du=P.createContext(null);du.displayName="Location";var wr=P.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var tp=P.createContext(null);tp.displayName="RouteError";function Xb(r,{relative:t}={}){he(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Li),{hash:o,pathname:u,search:f}=pu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function mu(){return P.useContext(du)!=null}function ya(){return he(mu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(du).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(r){P.useContext(Li).static||P.useLayoutEffect(r)}function eT(){let{isDataRoute:r}=P.useContext(wr);return r?uA():Wb()}function Wb(){he(mu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Mo),{basename:t,navigator:n}=P.useContext(Li),{matches:s}=P.useContext(wr),{pathname:o}=ya(),u=JSON.stringify($E(s)),f=P.useRef(!1);return tT(()=>{f.current=!0}),P.useCallback((g,y={})=>{if(Pi(f.current,JE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=XE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:yr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}P.createContext(null);function pu(r,{relative:t}={}){let{matches:n}=P.useContext(wr),{pathname:s}=ya(),o=JSON.stringify($E(n));return P.useMemo(()=>XE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Zb(r,t){return nT(r,t)}function nT(r,t,n,s,o){he(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Li),{matches:f}=P.useContext(wr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let j=b&&b.path||"";iT(y,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=ya(),x;if(t){let j=typeof t=="string"?Oo(t):t;he(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=w;let B=x.pathname||"/",Q=B;if(E!=="/"){let j=E.replace(/^\//,"").split("/");Q="/"+B.replace(/^\//,"").split("/").slice(j.length).join("/")}let U=KE(r,{pathname:Q});Pi(b||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=iA(U&&U.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:yr([E,u.encodeLocation?u.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:yr([E,u.encodeLocation?u.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,n,s,o);return t&&$?P.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function Jb(){let r=lA(),t=Kb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,f)}var tA=P.createElement(Jb,null),eA=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(wr.Provider,{value:this.props.routeContext},P.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nA({routeContext:r,match:t,children:n}){let s=P.useContext(Mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(wr.Provider,{value:r},n)}function iA(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:b,errors:w}=n,x=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||x){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,b)=>{let w,x=!1,B=null,Q=null;n&&(w=f&&E.route.id?f[E.route.id]:void 0,B=E.route.errorElement||tA,m&&(g<0&&b===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,Q=null):g===b&&(x=!0,Q=E.route.hydrateFallbackElement||null)));let U=t.concat(u.slice(0,b+1)),$=()=>{let j;return w?j=B:x?j=Q:E.route.Component?j=P.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=y,P.createElement(nA,{match:E,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:j})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?P.createElement(eA,{location:n.location,revalidation:n.revalidation,component:B,error:w,children:$(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):$()},null)}function ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rA(r){let t=P.useContext(Mo);return he(t,ep(r)),t}function sA(r){let t=P.useContext(Oh);return he(t,ep(r)),t}function aA(r){let t=P.useContext(wr);return he(t,ep(r)),t}function np(r){let t=aA(r),n=t.matches[t.matches.length-1];return he(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function oA(){return np("useRouteId")}function lA(){let r=P.useContext(tp),t=sA("useRouteError"),n=np("useRouteError");return r!==void 0?r:t.errors?.[n]}function uA(){let{router:r}=rA("useNavigate"),t=np("useNavigate"),n=P.useRef(!1);return tT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Pi(n.current,JE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var yv={};function iT(r,t,n){!t&&!yv[r]&&(yv[r]=!0,Pi(!1,n))}P.memo(cA);function cA({routes:r,future:t,state:n,unstable_onError:s}){return nT(r,void 0,n,s,t)}function Hl(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hA({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){he(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Oo(n));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:w="default"}=n,x=P.useMemo(()=>{let B=vr(g,f);return B==null?null:{location:{pathname:B,search:y,hash:E,state:b,key:w},navigationType:s}},[f,g,y,E,b,w,s]);return Pi(x!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(Li.Provider,{value:m},P.createElement(du.Provider,{children:t,value:x}))}function fA({children:r,location:t}){return Zb(Sm(r),t)}function Sm(r,t=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){n.push.apply(n,Sm(s.props.children,u));return}he(s.type===Hl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Mh(r){return r!=null&&typeof r.tagName=="string"}function dA(r){return Mh(r)&&r.tagName.toLowerCase()==="button"}function mA(r){return Mh(r)&&r.tagName.toLowerCase()==="form"}function pA(r){return Mh(r)&&r.tagName.toLowerCase()==="input"}function gA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yA(r,t){return r.button===0&&(!t||t==="_self")&&!gA(r)}var Fc=null;function _A(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!vA.has(r)?(Pi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function EA(r,t){let n,s,o,u,f;if(mA(r)){let m=r.getAttribute("action");s=m?vr(m,t):null,n=r.getAttribute("method")||Wc,o=lm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(dA(r)||pA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?vr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!_A()){let{name:y,type:E,value:b}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(Mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function TA(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&vr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function SA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function AA(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await SA(u,n);return f.links?f.links():[]}return[]}));return CA(s.flat(1).filter(bA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wA(r,t,{includeHydrateFallback:n}={}){return RA(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RA(r){return[...new Set(r)]}function IA(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function CA(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(IA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rT(){let r=P.useContext(Mo);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DA(){let r=P.useContext(Oh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=P.createContext(void 0);rp.displayName="FrameworkContext";function sT(){let r=P.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function NA(r,t){let n=P.useContext(rp),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=$=>{$.forEach(j=>{f(j.isIntersecting)})},U=new IntersectionObserver(Q,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let x=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:ql(m,x),onBlur:ql(g,B),onMouseEnter:ql(y,x),onMouseLeave:ql(E,B),onTouchStart:ql(b,x)}]:[!1,w,{}]}function ql(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function OA({page:r,...t}){let{router:n}=rT(),s=P.useMemo(()=>KE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(VA,{page:r,matches:s,...t}):null}function MA(r){let{manifest:t,routeModules:n}=sT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return AA(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function VA({page:r,matches:t,...n}){let s=ya(),{manifest:o,routeModules:u}=sT(),{basename:f}=rT(),{loaderData:m,matches:g}=DA(),y=P.useMemo(()=>_v(r,t,g,o,s,"data"),[r,t,g,o,s]),E=P.useMemo(()=>_v(r,t,g,o,s,"assets"),[r,t,g,o,s]),b=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,Q=!1;if(t.forEach($=>{let j=o.routes[$.route.id];!j||!j.hasLoader||(!y.some(Y=>Y.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||j.hasClientLoader?Q=!0:B.add($.route.id))}),B.size===0)return[];let U=TA(r,f,"data");return Q&&B.size>0&&U.searchParams.set("_routes",t.filter($=>B.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,y,t,r,u]),w=P.useMemo(()=>wA(E,o),[E,o]),x=MA(E);return P.createElement(P.Fragment,null,b.map(B=>P.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),w.map(B=>P.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),x.map(({key:B,link:Q})=>P.createElement("link",{key:B,nonce:n.nonce,...Q})))}function PA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aT&&(window.__reactRouterVersion="7.8.2")}catch{}function xA({basename:r,children:t,window:n}){let s=P.useRef();s.current==null&&(s.current=bb({window:n,v5Compat:!0}));let o=s.current,[u,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(g=>{P.startTransition(()=>f(g))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(hA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,...w},x){let{basename:B}=P.useContext(Li),Q=typeof y=="string"&&oT.test(y),U,$=!1;if(typeof y=="string"&&Q&&(U=y,aT))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=vr(O.pathname,B);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:$=!0}catch{Pi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Xb(y,{relative:o}),[Y,ot,rt]=NA(s,w),ht=zA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function C(R){t&&t(R),R.defaultPrevented||ht(R)}let A=P.createElement("a",{...w,...rt,href:U||j,onClick:$||u?t:C,ref:PA(x,ot),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return Y&&!Q?P.createElement(P.Fragment,null,A,P.createElement(OA,{page:j})):A});lT.displayName="Link";var kA=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let b=pu(f,{relative:y.relative}),w=ya(),x=P.useContext(Oh),{navigator:B,basename:Q}=P.useContext(Li),U=x!=null&&FA(b)&&m===!0,$=B.encodeLocation?B.encodeLocation(b).pathname:b.pathname,j=w.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),Y=Y?Y.toLowerCase():null,$=$.toLowerCase()),Y&&Q&&(Y=vr(Y,Q)||Y);const ot=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let rt=j===$||!o&&j.startsWith($)&&j.charAt(ot)==="/",ht=Y!=null&&(Y===$||!o&&Y.startsWith($)&&Y.charAt($.length)==="/"),C={isActive:rt,isPending:ht,isTransitioning:U},A=rt?t:void 0,R;typeof s=="function"?R=s(C):R=[s,rt?"active":null,ht?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return P.createElement(lT,{...y,"aria-current":A,className:R,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(C):g)});kA.displayName="NavLink";var LA=P.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...w},x)=>{let B=HA(),Q=jA(m,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&oT.test(m),j=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let ot=Y.nativeEvent.submitter,rt=ot?.getAttribute("formmethod")||f;B(ot||Y.currentTarget,{fetcherKey:t,method:rt,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return P.createElement("form",{ref:x,method:U,action:Q,onSubmit:s?g:j,...w,"data-discover":!$&&r==="render"?"true":void 0})});LA.displayName="Form";function UA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let t=P.useContext(Mo);return he(t,UA(r)),t}function zA(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=eT(),g=ya(),y=pu(r,{relative:u});return P.useCallback(E=>{if(yA(E,t)){E.preventDefault();let b=n!==void 0?n:nu(g)===nu(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,o,u,f])}var BA=0,qA=()=>`__${String(++BA)}__`;function HA(){let{router:r}=uT("useSubmit"),{basename:t}=P.useContext(Li),n=oA();return P.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=EA(s,t);if(o.navigate===!1){let E=o.fetcherKey||qA();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function jA(r,{relative:t}={}){let{basename:n}=P.useContext(Li),s=P.useContext(wr);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:t})},f=ya();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),nu(u)}function FA(r,{relative:t}={}){let n=P.useContext(ZE);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=pu(r,{relative:t});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const GA="modulepreload",KA=function(r){return"/note/"+r},vv={},Vh=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=g(n.map(y=>{if(y=KA(y),y in vv)return;vv[y]=!0;const E=y.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":GA,E||(w.as="script"),w.crossOrigin="",w.href=y,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((x,B)=>{w.addEventListener("load",x),w.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},QA=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},YA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,x=y&63;g||(x=64,f||(w=64)),s.push(n[E],n[b],n[w],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):YA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new $A;const w=u<<2|m>>4;if(s.push(w),y!==64){const x=m<<4&240|y>>2;if(s.push(x),b!==64){const B=y<<6&192|b;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(r){const t=cT(r);return hT.encodeByteArray(t,!0)},ch=function(r){return XA(r).replace(/\./g,"")},fT=function(r){try{return hT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>WA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof Ev>"u")return;const r=Ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fT(r[1]);return t&&JSON.parse(t)},Ph=()=>{try{return QA()||ZA()||JA()||tw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dT=r=>Ph()?.emulatorHosts?.[r],ew=r=>{const t=dT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},mT=()=>Ph()?.config,pT=r=>Ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const $l={};function rw(){const r={prod:[],emulator:[]};for(const t of Object.keys($l))$l[t]?r.emulator.push(t):r.prod.push(t);return r}function sw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Tv=!1;function yT(r,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||$l[r]===t||$l[r]||Tv)return;$l[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=rw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Tv=!0,f()},w}function E(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=sw(s),x=n("text"),B=document.getElementById(x)||document.createElement("span"),Q=n("learnmore"),U=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),j=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;m(Y),E(U,Q);const ot=y();g(j,$),Y.append(j,B,U,ot),document.body.appendChild(Y)}u?(B.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ow(){const r=Ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hw(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fw(){return!ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function mw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="FirebaseError";class Rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=pw,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?gw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Rr(o,m,s)}}function gw(r,t){return r.replace(yw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const yw=/\{\$([^}]+)}/g;function _w(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ua(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Sv(u)&&Sv(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function jl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Fl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function vw(r,t){const n=new Ew(r,t);return n.subscribe.bind(n)}class Ew{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Tw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(r){return r&&r._delegate?r._delegate:r}class ca{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new nw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Aw(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(r){return r===sa?void 0:r}function Aw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Sw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Rw={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Iw=Mt.INFO,Cw={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Dw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Cw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sp{constructor(t){this.name=t,this._logLevel=Iw,this._logHandler=Dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Nw=(r,t)=>t.some(n=>r instanceof n);let bv,Av;function Ow(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,bm=new WeakMap,vT=new WeakMap,cm=new WeakMap,ap=new WeakMap;function Vw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(us(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&_T.set(n,r)}).catch(()=>{}),ap.set(t,r),t}function Pw(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let Am={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function xw(r){Am=r(Am)}function kw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(hm(this),t,...n);return vT.set(s,t.sort?t.sort():[t]),us(s)}:Mw().includes(r)?function(...t){return r.apply(hm(this),t),us(_T.get(this))}:function(...t){return us(r.apply(hm(this),t))}}function Lw(r){return typeof r=="function"?kw(r):(r instanceof IDBTransaction&&Pw(r),Nw(r,Ow())?new Proxy(r,Am):r)}function us(r){if(r instanceof IDBRequest)return Vw(r);if(cm.has(r))return cm.get(r);const t=Lw(r);return t!==r&&(cm.set(r,t),ap.set(t,r)),t}const hm=r=>ap.get(r);function Uw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=us(f);return s&&f.addEventListener("upgradeneeded",g=>{s(us(f.result),g.oldVersion,g.newVersion,us(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zw=["get","getKey","getAll","getAllKeys","count"],Bw=["put","add","delete","clear"],fm=new Map;function wv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Bw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return fm.set(t,u),u}xw(r=>({...r,get:(t,n,s)=>wv(t,n)||r.get(t,n,s),has:(t,n)=>!!wv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Hw(r){return r.getComponent()?.type==="VERSION"}const wm="@firebase/app",Rv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new sp("@firebase/app"),jw="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",Kw="@firebase/app-check-compat",Qw="@firebase/app-check",Yw="@firebase/auth",$w="@firebase/auth-compat",Xw="@firebase/database",Ww="@firebase/data-connect",Zw="@firebase/database-compat",Jw="@firebase/functions",tR="@firebase/functions-compat",eR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",rR="@firebase/messaging-compat",sR="@firebase/performance",aR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/ai",dR="@firebase/firestore-compat",mR="firebase",pR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",gR={[wm]:"fire-core",[jw]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Qw]:"fire-app-check",[Kw]:"fire-app-check-compat",[Yw]:"fire-auth",[$w]:"fire-auth-compat",[Xw]:"fire-rtdb",[Ww]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[Jw]:"fire-fn",[tR]:"fire-fn-compat",[eR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[rR]:"fire-fcm-compat",[sR]:"fire-perf",[aR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[dR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,yR=new Map,Im=new Map;function Iv(r,t){try{r.container.addComponent(t)}catch(n){Er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function bo(r){const t=r.name;if(Im.has(t))return Er.debug(`There were multiple attempts to register component ${t}.`),!1;Im.set(t,r);for(const n of hh.values())Iv(n,r);for(const n of yR.values())Iv(n,r);return!0}function op(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Fn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new gu("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=pR;function ET(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Rm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=mT()),!n)throw cs.create("no-options");const u=hh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const f=new ww(o);for(const g of Im.values())f.addComponent(g);const m=new vR(n,s,f);return hh.set(o,m),m}function TT(r=Rm){const t=hh.get(r);if(!t&&r===Rm&&mT())return ET();if(!t)throw cs.create("no-app",{appName:r});return t}function hs(r,t,n){let s=gR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Er.warn(f.join(" "));return}bo(new ca(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",TR=1,iu="firebase-heartbeat-store";let dm=null;function ST(){return dm||(dm=Uw(ER,TR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),dm}async function SR(r){try{const n=(await ST()).transaction(iu),s=await n.objectStore(iu).get(bT(r));return await n.done,s}catch(t){if(t instanceof Rr)Er.warn(t.message);else{const n=cs.create("idb-get",{originalErrorMessage:t?.message});Er.warn(n.message)}}}async function Cv(r,t){try{const s=(await ST()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,bT(r)),await s.done}catch(n){if(n instanceof Rr)Er.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function bT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,AR=30;class wR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>AR){const o=CR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dv(),{heartbeatsToSend:n,unsentEntries:s}=RR(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Er.warn(t),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function RR(r,t=bR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Nv(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function CR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){bo(new ca("platform-logger",t=>new qw(t),"PRIVATE")),bo(new ca("heartbeat",t=>new wR(t),"PRIVATE")),hs(wm,Rv,r),hs(wm,Rv,"esm2020"),hs("fire-js","")}DR("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,AT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function R(){}R.prototype=A.prototype,C.D=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(O,V,k){for(var D=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)D[pe-2]=arguments[pe];return A.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],V=C.g[2];var k=C.g[3],D=A+(k^R&(V^k))+O[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+O[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+O[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+O[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+O[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+O[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+O[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+O[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+O[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+O[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+O[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+O[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^k&(R^V))+O[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+O[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+O[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+O[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+O[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+O[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+O[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+O[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+O[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+O[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+O[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+O[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^k)+O[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+O[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+O[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+O[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+O[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+O[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+O[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+O[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+O[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+O[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+O[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+O[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~k))+O[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+O[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+O[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+O[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+O[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+O[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+O[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+O[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+O[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+O[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+O[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+O[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var R=A-this.blockSize,O=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(O[V++]=C.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<A;)if(O[V++]=C[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var R=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=R&255,R/=256;for(this.u(C),C=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)C[R++]=this.g[A]>>>O&255;return C};function u(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function f(C,A){this.h=A;for(var R=[],O=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;O&&k==A||(R[V]=k,O=!1)}this.g=R}var m={};function g(C){return-128<=C&&128>C?u(C,function(A){return new f([A|0],0>A?-1:0)}):new f([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return U(y(-C));for(var A=[],R=1,O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return U(E(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),O=b,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),D=parseInt(C.substring(V,V+k),A);8>k?(k=y(Math.pow(A,k)),O=O.j(k).add(y(D))):(O=O.j(R),O=O.add(y(D)))}return O}var b=g(0),w=g(1),x=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-U(this).m();for(var C=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);C+=(0<=O?O:4294967296+O)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(Q(this))return"-"+U(this).toString(C);for(var A=y(Math.pow(C,6)),R=this,O="";;){var V=ot(R,A).g;R=$(R,V.j(A));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,B(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=$(this,C),Q(C)?-1:B(C)?0:1};function U(C){for(var A=C.g.length,R=[],O=0;O<A;O++)R[O]=~C.g[O];return new f(R,~C.h).add(w)}r.abs=function(){return Q(this)?U(this):this},r.add=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],O=0,V=0;V<=A;V++){var k=O+(this.i(V)&65535)+(C.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=D>>>16,k&=65535,D&=65535,R[V]=D<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(C,A){return C.add(U(A))}r.j=function(C){if(B(this)||B(C))return b;if(Q(this))return Q(C)?U(this).j(U(C)):U(U(this).j(C));if(Q(C))return U(this.j(U(C)));if(0>this.l(x)&&0>C.l(x))return y(this.m()*C.m());for(var A=this.g.length+C.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<C.g.length;V++){var k=this.i(O)>>>16,D=this.i(O)&65535,pe=C.i(V)>>>16,te=C.i(V)&65535;R[2*O+2*V]+=D*te,j(R,2*O+2*V),R[2*O+2*V+1]+=k*te,j(R,2*O+2*V+1),R[2*O+2*V+1]+=D*pe,j(R,2*O+2*V+1),R[2*O+2*V+2]+=k*pe,j(R,2*O+2*V+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new f(R,0)};function j(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function ot(C,A){if(B(A))throw Error("division by zero");if(B(C))return new Y(b,b);if(Q(C))return A=ot(U(C),A),new Y(U(A.g),U(A.h));if(Q(A))return A=ot(C,U(A)),new Y(U(A.g),A.h);if(30<C.g.length){if(Q(C)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=A;0>=O.l(C);)R=rt(R),O=rt(O);var V=ht(R,1),k=ht(O,1);for(O=ht(O,2),R=ht(R,2);!B(O);){var D=k.add(O);0>=D.l(C)&&(V=V.add(R),k=D),O=ht(O,1),R=ht(R,1)}return A=$(C,V.j(A)),new Y(V,A)}for(V=b;0<=C.l(A);){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=y(R),D=k.j(A);Q(D)||0<D.l(C);)R-=O,k=y(R),D=k.j(A);B(k)&&(k=w),V=V.add(k),C=$(C,D)}return new Y(V,C)}r.A=function(C){return ot(this,C).h},r.and=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new f(R,this.h&C.h)},r.or=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new f(R,this.h|C.h)},r.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new f(R,this.h^C.h)};function rt(C){for(var A=C.g.length+1,R=[],O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(R,C.h)}function ht(C,A){var R=A>>5;A%=32;for(var O=C.g.length-R,V=[],k=0;k<O;k++)V[k]=0<A?C.i(k+R)>>>A|C.i(k+R+1)<<32-A:C.i(k+R);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,fs=f}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Gl,RT,Jc,Cm,IT,CT,DT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break t;_=_[z]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var K=_++;return{value:p(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function w(c,p,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function x(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function B(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,K){for(var st=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)st[xt-2]=arguments[xt];return p.prototype[z].apply(S,st)}}function Q(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function U(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const z=c.length||0,K=S.length||0;c.length=z+K;for(let st=0;st<K;st++)c[z+st]=S[st]}else c.push(S)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function j(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var rt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ht(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function C(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function D(){var c=zt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pe{constructor(){this.h=this.g=null}add(p,_){const S=te.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new $(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,zt=new pe,N=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(et)}};var et=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var p=te;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Rt(c,p){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(rt){t:{try{ot(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}B(Rt,it);var Tt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function Cn(c,p,_,S,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=z,this.key=++Yt,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kn(c){this.src=c,this.g={},this.h=0}Kn.prototype.add=function(c,p,_,S,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var st=sn(c,p,S,z);return-1<st?(p=c[st],_||(p.fa=!1)):(p=new Cn(p,this.src,K,!!S,z),p.fa=_,c.push(p)),p};function zi(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,p,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(ai(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function sn(c,p,_,S){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==p&&K.capture==!!_&&K.ha==S)return z}return-1}var oi="closure_lm_"+(1e6*Math.random()|0),bs={};function As(c,p,_,S,z){if(Array.isArray(p)){for(var K=0;K<p.length;K++)As(c,p[K],_,S,z);return null}return _=Sa(_),c&&c[Ee]?c.K(p,_,y(S)?!!S.capture:!1,z):un(c,p,_,!1,S,z)}function un(c,p,_,S,z,K){if(!p)throw Error("Invalid event type");var st=y(z)?!!z.capture:!!z,xt=Cr(c);if(xt||(c[oi]=xt=new Kn(c)),_=xt.add(p,_,S,st,K),_.proxy)return _;if(S=Ea(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)pt||(z=st),z===void 0&&(z=!1),c.addEventListener(p.toString(),S,z);else if(c.attachEvent)c.attachEvent(qi(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ea(){function c(_){return p.call(c.src,c.listener,_)}const p=Ta;return c}function ws(c,p,_,S,z){if(Array.isArray(p))for(var K=0;K<p.length;K++)ws(c,p[K],_,S,z);else S=y(S)?!!S.capture:!!S,_=Sa(_),c&&c[Ee]?(c=c.i,p=String(p).toString(),p in c.g&&(K=c.g[p],_=sn(K,_,S,z),-1<_&&(ai(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[p],c.h--)))):c&&(c=Cr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=sn(p,_,S,z)),(_=-1<c?p[c]:null)&&Bi(_))}function Bi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ee])zi(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(qi(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Cr(p))?(zi(_,c),_.h==0&&(_.src=null,p[oi]=null)):ai(c)}}}function qi(c){return c in bs?bs[c]:bs[c]="on"+c}function Ta(c,p){if(c.da)c=!0;else{p=new Rt(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Bi(c),c=_.call(S,p)}return c}function Cr(c){return c=c[oi],c instanceof Kn?c:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(c){return typeof c=="function"?c:(c[Rs]||(c[Rs]=function(p){return c.handleEvent(p)}),c[Rs])}function re(){lt.call(this),this.i=new Kn(this),this.M=this,this.F=null}B(re,lt),re.prototype[Ee]=!0,re.prototype.removeEventListener=function(c,p,_,S){ws(this,c,p,_,S)};function qt(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new it(p,c);else if(p instanceof it)p.target=p.target||c;else{var z=p;p=new it(S,c),O(p,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var st=p.g=_[K];z=We(st,S,!0,p)&&z}if(st=p.g=c,z=We(st,S,!0,p)&&z,z=We(st,S,!1,p)&&z,_)for(K=0;K<_.length;K++)st=p.g=_[K],z=We(st,S,!1,p)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)ai(_[S]);delete c.g[p],c.h--}}this.F=null},re.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},re.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function We(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,K=0;K<p.length;++K){var st=p[K];if(st&&!st.da&&st.capture==_){var xt=st.listener,Ce=st.ha||st.src;st.fa&&zi(c.i,st),z=xt.call(Ce,S)!==!1&&z}}return z&&!S.defaultPrevented}function xe(c,p,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Is(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,Is(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Bo extends lt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){lt.call(this),this.h=c,this.g={}}B(li,lt);var Hi=[];function ui(c){ht(c.g,function(p,_){this.g.hasOwnProperty(_)&&Bi(p)},c),c.g={}}li.prototype.N=function(){li.aa.N.call(this),ui(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=m.JSON.stringify,ji=m.JSON.parse,Fi=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Cs(){}Cs.prototype.h=null;function Ds(c){return c.h||(c.h=c.i())}function Dr(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){it.call(this,"d")}B(Dn,it);function Ns(){it.call(this,"c")}B(Ns,it);var yn={},Os=null;function ci(){return Os=Os||new re}yn.La="serverreachability";function Nr(c){it.call(this,yn.La,c)}B(Nr,it);function Yn(c){const p=ci();qt(p,new Nr(p))}yn.STAT_EVENT="statevent";function ba(c,p){it.call(this,yn.STAT_EVENT,c),this.stat=p}B(ba,it);function ee(c){const p=ci();qt(p,new ba(p,c))}yn.Ma="timingevent";function ge(c,p){it.call(this,yn.Ma,c),this.size=p}B(ge,it);function oe(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function cn(){this.g=!0}cn.prototype.xa=function(){this.g=!1};function Or(c,p,_,S,z,K){c.info(function(){if(c.g)if(K)for(var st="",xt=K.split("&"),Ce=0;Ce<xt.length;Ce++){var kt=xt[Ce].split("=");if(1<kt.length){var Le=kt[0];kt=kt[1];var De=Le.split("_");st=2<=De.length&&De[1]=="type"?st+(Le+"="+kt+"&"):st+(Le+"=redacted&")}}else st=null;else st=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+p+`
`+_+`
`+st})}function qo(c,p,_,S,z,K,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+p+`
`+_+`
`+K+" "+st})}function $n(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+hi(c,_)+(S?" "+S:"")})}function Aa(c,p){c.info(function(){return"TIMEOUT: "+p})}cn.prototype.info=function(){};function hi(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return gn(_)}catch{return p}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function On(){}B(On,Cs),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Nn=new On;function je(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ms={},Mr={};function _n(c,p,_){c.L=1,c.v=xs(vn(p)),c.m=_,c.P=!0,Wn(c,null)}function Wn(c,p){c.F=Date.now(),Gi(c),c.A=vn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ko(_.i,"t",S),c.C=0,_=c.j.J,c.h=new le,c.g=Bu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Bo(w(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Hi[0]=z.toString()),z=Hi);for(var K=0;K<z.length;K++){var st=As(_,z[K],S||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Yn(),Or(c.i,c.u,c.A,c.l,c.R,c.m)}je.prototype.ca=function(c){c=c.target;const p=this.M;p&&kn(c)==3?p.j():this.Y(c)},je.prototype.Y=function(c){try{if(c==this.g)t:{const De=kn(this.g);var p=this.g.Ba();const er=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||De!=4||p==7||(p==8||0>=er?Yn(3):Yn(2)),di(this);var _=this.g.Z();this.X=_;e:if(wa(this)){var S=Mu(this.g);c="";var z=S.length,K=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ie(this),Mn(this);var st="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(K&&p==z-1)});S.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,qo(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ce=this.g;if((xt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(xt)){var kt=xt;break e}}kt=null}if(_=kt)$n(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ki(this,_);else{this.o=!1,this.s=3,ee(12),Ie(this),Mn(this);break t}}if(this.P){_=!0;let Fe;for(;!this.J&&this.C<st.length;)if(Fe=Ra(this,st),Fe==Mr){De==4&&(this.s=4,ee(14),_=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==Ms){this.s=4,ee(15),$n(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else $n(this.i,this.l,Fe,null),Ki(this,Fe);if(wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||st.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)$n(this.i,this.l,st,"[Invalid Chunked Response]"),Ie(this),Mn(this);else if(0<st.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),js(Le),Le.M=!0,ee(11))}}else $n(this.i,this.l,st,null),Ki(this,st);De==4&&Ie(this),this.o&&!this.J&&(De==4?Lu(this.j,this):(this.o=!1,Gi(this)))}else uf(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ie(this),Mn(this)}}}catch{}finally{}};function wa(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ra(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?Mr:(_=Number(p.substring(_,S)),isNaN(_)?Ms:(S+=1,S+_>p.length?Mr:(p=p.slice(S,S+_),c.C=S+_,p)))}je.prototype.cancel=function(){this.J=!0,Ie(this)};function Gi(c){c.S=Date.now()+c.I,Ia(c,c.I)}function Ia(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=oe(w(c.ba,c),p)}function di(c){c.B&&(m.clearTimeout(c.B),c.B=null)}je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Aa(this.i,this.A),this.L!=2&&(Yn(),ee(17)),Ie(this),this.s=2,Mn(this)):Ia(this,this.S-c)};function Mn(c){c.j.G==0||c.J||Lu(c.j,c)}function Ie(c){di(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ui(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ki(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Qi(_.h,c))){if(!c.K&&Qi(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)La(_),xa(_);else break t;Wo(_),ee(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=oe(w(_.Za,_),6e3));if(1>=Jn(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else tr(_,11)}else if((c.K||_.g==c)&&La(_),!j(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let kt=z[p];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Le=kt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=kt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const er=kt[5];er!=null&&typeof er=="number"&&0<er&&(S=1.5*er,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Fe=c.g;if(Fe){const Ei=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var K=S.h;K.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Yi(K,K.h),K.h=null))}if(S.D){const Jo=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(S.ya=Jo,$t(S.I,S.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var st=c;if(S.qa=zu(S,S.J?S.ia:null,S.W),st.K){It(S.h,st);var xt=st,Ce=S.L;Ce&&(xt.I=Ce),xt.B&&(di(xt),Gi(xt)),S.g=st}else xu(S);0<_.i.length&&ka(_)}else kt[0]!="stop"&&kt[0]!="close"||tr(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?tr(_,7):$o(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}Yn(4)}catch{}}var Ca=class{constructor(c,p){this.g=c,this.map=p}};function Zn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jn(c){return c.h?1:c.g?c.g.size:0}function Qi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Yi(c,p){c.g?c.g.add(p):c.h=p}function It(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Zn.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Q(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function Da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function jo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Da(c),S=sf(c),z=S.length,K=0;K<z;K++)p.call(void 0,S[K],_&&_[K],c)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var K=c[_].substring(0,S);z=c[_].substring(S+1)}else K=c[_];p(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Te(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Te){this.h=c.h,Ps(this,c.j),this.o=c.o,this.g=c.g,Pr(this,c.s),this.l=c.l;var p=c.i,_=new Xi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),$i(this,_),this.m=c.m}else c&&(p=String(c).match(Vs))?(this.h=!1,Ps(this,p[1]||"",!0),this.o=Vn(p[2]||""),this.g=Vn(p[3]||"",!0),Pr(this,p[4]),this.l=Vn(p[5]||"",!0),$i(this,p[6]||"",!0),this.m=Vn(p[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Te.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ks(p,Fo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ks(p,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ks(_,_.charAt(0)=="/"?of:Go,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ks(_,Na)),c.join("")};function vn(c){return new Te(c)}function Ps(c,p,_){c.j=_?Vn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Pr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function $i(c,p,_){p instanceof Xi?(c.i=p,Nu(c.i,c.h)):(_||(p=ks(p,lf)),c.i=new Xi(p,c.h))}function $t(c,p,_){c.i.set(p,_)}function xs(c){return $t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Go=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,Na=/#/g;function Xi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Xi.prototype,r.add=function(c,p){Pn(this),this.i=null,c=mi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Wi(c,p){Pn(c),p=mi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Zi(c,p){return Pn(c),p=mi(c,p),c.g.has(p)}r.forEach=function(c,p){Pn(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(p,z,S,this)},this)},this)},r.na=function(){Pn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const z=c[S];for(let K=0;K<z.length;K++)_.push(p[S])}return _},r.V=function(c){Pn(this);let p=[];if(typeof c=="string")Zi(this,c)&&(p=p.concat(this.g.get(mi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Pn(this),this.i=null,c=mi(this,c),Zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ko(c,p,_){Wi(c,p),0<_.length&&(c.i=null,c.g.set(mi(c,p),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const K=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var z=K;st[S]!==""&&(z+="="+encodeURIComponent(String(st[S]))),c.push(z)}}return this.i=c.join("&")};function mi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Nu(c,p){p&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(Wi(this,S),Ko(this,z,_))},c)),c.j=p}function Ls(c,p){const _=new cn;if(m.Image){const S=new Image;S.onload=x(xn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=x(xn,_,"TestLoadImage: error",!1,p,S),S.onabort=x(xn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=x(xn,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function ti(c,p){const _=new cn,S=new AbortController,z=setTimeout(()=>{S.abort(),xn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?xn(_,"TestPingServer: ok",!0,p):xn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),xn(_,"TestPingServer: error",!1,p)})}function xn(c,p,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function Us(){this.g=new Fi}function pi(c,p,_){const S=_||"";try{jo(c,function(z,K){let st=z;y(z)&&(st=gn(z)),p.push(S+K+"="+encodeURIComponent(st))})}catch(z){throw p.push(S+"type="+encodeURIComponent("_badmap")),z}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(xr,Cs),xr.prototype.g=function(){return new Ji(this.l,this.j)},xr.prototype.i=(function(c){return function(){return c}})({});function Ji(c,p){re.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ji,re),r=Ji.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,yi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?gi(this):yi(this),this.readyState==3&&Qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},r.Qa=function(c){this.g&&(this.response=c,gi(this))},r.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yi(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let p="";return ht(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function ke(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$t(c,p,_))}function jt(c){re.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(jt,re);var Oa=/^https?$/i,zs=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Ds(this.o):Ds(Nn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(K){Ou(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(zs,p,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,st]of _)this.g.setRequestHeader(K,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ou(this,K)}};function Ou(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ma(c),_i(c)}function Ma(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),_i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},r.bb=function(){Va(this)};function Va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)xe(c.Ea,0,c);else if(qt(c,"readystatechange"),kn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=st===0){var z=String(c.D).match(Vs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!Oa.test(z?z.toLowerCase():"")}_=S}if(_)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var K=2<kn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ma(c)}}finally{_i(c)}}}}function _i(c,p){if(c.g){Bs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ji(p)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const p={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(j(c[S]))continue;var _=V(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=p[z]||[];p[z]=K,K.push(_)}C(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Pa(c){this.Aa=0,this.i=[],this.j=new cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,c),this.cb=qs("retryDelaySeedMs",1e4,c),this.Wa=qs("forwardChannelMaxRetries",2,c),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zn(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){ee(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=zu(this,null,this.W),ka(this)};function $o(c){if(Vu(c),c.G==3){var p=c.U++,_=vn(c.I);if($t(_,"SID",c.K),$t(_,"RID",p),$t(_,"TYPE","terminate"),Hs(c,_),p=new je(c,c.j,p),p.L=2,p.v=xs(vn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Bu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Gi(p)}Uu(c)}function xa(c){c.g&&(js(c),c.g.cancel(),c.g=null)}function Vu(c){xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!Vr(c.h)&&!c.s){c.s=!0;var p=c.Ga;at||N(),ft||(at(),ft=!0),zt.add(p,c),c.B=0}}function cf(c,p){return Jn(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=oe(w(c.Ga,c,p),Zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new je(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Pu(this,z,p),_=vn(this.I),$t(_,"RID",c),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),Hs(this,_),K&&(this.O?p="headers="+encodeURIComponent(String(Yo(K)))+"&"+p:this.m&&ke(_,this.m,K)),Yi(this.h,z),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",p),$t(_,"SID","null"),z.T=!0,_n(z,_,null)):_n(z,_,p),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||Vr(this.h)||Xo(this))};function Xo(c,p){var _;p?_=p.l:_=c.U++;const S=vn(c.I);$t(S,"SID",c.K),$t(S,"RID",_),$t(S,"AID",c.T),Hs(c,S),c.m&&c.o&&ke(S,c.m,c.o),_=new je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yi(c.h,_),_n(_,S,p)}function Hs(c,p){c.H&&ht(c.H,function(_,S){$t(p,S,_)}),c.l&&jo({},function(_,S){$t(p,S,_)})}function Pu(c,p,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const st=["count="+_];K==-1?0<_?(K=z[0].g,st.push("ofs="+K)):K=0:st.push("ofs="+K);let xt=!0;for(let Ce=0;Ce<_;Ce++){let kt=z[Ce].g;const Le=z[Ce].map;if(kt-=K,0>kt)K=Math.max(0,z[Ce].g-100),xt=!1;else try{pi(Le,st,"req"+kt+"_")}catch{S&&S(Le)}}if(xt){S=st.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function xu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;at||N(),ft||(at(),ft=!0),zt.add(p,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=oe(w(c.Fa,c),Zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=oe(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),xa(this),ku(this))};function js(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=vn(c.qa);$t(p,"RID","rpc"),$t(p,"SID",c.K),$t(p,"AID",c.T),$t(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$t(p,"TO",c.ja),$t(p,"TYPE","xmlhttp"),Hs(c,p),c.m&&c.o&&ke(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=xs(vn(p)),_.m=null,_.P=!0,Wn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,xa(this),Wo(this),ee(19))};function La(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,p){var _=null;if(c.g==p){La(c),js(c),c.g=null;var S=2}else if(Qi(c.h,p))_=p.D,It(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;S=ci(),qt(S,new ge(S,_)),ka(c)}else xu(c);else if(z=p.s,z==3||z==0&&0<p.X||!(S==1&&cf(c,p)||S==2&&Wo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),z){case 1:tr(c,5);break;case 4:tr(c,10);break;case 3:tr(c,6);break;default:tr(c,2)}}}function Zo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function tr(c,p){if(c.j.info("Error code "+p),p==2){var _=w(c.fb,c),S=c.Xa;const z=!S;S=new Te(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ps(S,"https"),xs(S),z?Ls(S.toString(),_):ti(S.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(p),Uu(c),Vu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const p=Ho(c.h);(p.length!=0||c.i.length!=0)&&(U(c.ka,p),U(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function zu(c,p,_){var S=_ instanceof Te?vn(_):new Te(_);if(S.g!="")p&&(S.g=p+"."+S.g),Pr(S,S.s);else{var z=m.location;S=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var K=new Te(null);S&&Ps(K,S),p&&(K.g=p),z&&Pr(K,z),_&&(K.l=_),S=K}return _=c.D,p=c.ya,_&&p&&$t(S,_,p),$t(S,"VER",c.la),Hs(c,S),S}function Bu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new jt(new xr({eb:_})):new jt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ua(){}Ua.prototype.g=function(c,p){return new an(c,p)};function an(c,p){re.call(this),this.g=new Pa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!j(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!j(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new vi(this)}B(an,re),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$o(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=gn(c),c=_);p.i.push(new Ca(p.Ya++,c)),p.G==3&&ka(p)},an.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,an.aa.N.call(this)};function Hu(c){Dn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}B(Hu,Dn);function ju(){Ns.call(this),this.status=1}B(ju,Ns);function vi(c){this.g=c}B(vi,qu),vi.prototype.ua=function(){qt(this.g,"a")},vi.prototype.ta=function(c){qt(this.g,new Hu(c))},vi.prototype.sa=function(c){qt(this.g,new ju)},vi.prototype.ra=function(){qt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,DT=function(){return new Ua},CT=function(){return ci()},IT=yn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,Jc=fi,Xn.COMPLETE="complete",RT=Xn,Dr.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",re.prototype.listen=re.prototype.K,Gl=Dr,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,wT=jt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Vv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new sp("@firebase/firestore");function mo(){return ha.logLevel}function ut(r,...t){if(ha.logLevel<=Mt.DEBUG){const n=t.map(lp);ha.debug(`Firestore (${xo}): ${r}`,...n)}}function Tr(r,...t){if(ha.logLevel<=Mt.ERROR){const n=t.map(lp);ha.error(`Firestore (${xo}): ${r}`,...n)}}function Ao(r,...t){if(ha.logLevel<=Mt.WARN){const n=t.map(lp);ha.warn(`Firestore (${xo}): ${r}`,...n)}}function lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,NT(r,s,n)}function NT(r,t,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||NT(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class OR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ds,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ds)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new OT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class VR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Dm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return mm(o)===mm(u)?Vt(o,u):mm(o)?1:-1}return Vt(r.length,t.length)}const LR=55296,UR=57343;function mm(r){const t=r.charCodeAt(0);return t>=LR&&t<=UR}function wo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Dm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fs.fromString(t.substring(4,t.length-2))}}class ce extends Ri{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ri{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return zR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new $e([xv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new dt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new dt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new dt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ce.fromString(t))}static fromName(t){return new gt(ce.fromString(t).popFirst(5))}static empty(){return new gt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r,t,n){if(!n)throw new dt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qR(r,t,n,s){if(t===!0&&s===!0)throw new dt(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!gt.isDocumentKey(r))throw new dt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function MT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function fa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(r);throw new dt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,t){const n={typeString:r};return t&&(n.value=t),n}function _u(r,t){if(!MT(r))throw new dt(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new dt(nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-62135596800,Uv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uv);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Lv)throw new dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Re("string",se._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function HR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ms(o,gt.empty(),t)}function jR(r){return new ms(r.readTime,r.key,ru)}class ms{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(bt.min(),gt.empty(),ru)}static max(){return new ms(bt.max(),gt.empty(),ru)}}function FR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==GR)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function QR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function kh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function YR(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function $R(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=zv(t)),t=XR(r.get(n),t);return zv(t)}function XR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case VT:n+="";break;default:n+=u}}return n}function zv(r){return r+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Es(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function PT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kc(this.root,t,this.comparator,!0)}}class Kc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ye(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(t){return new qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new In([])}unionWith(t){let n=new Pe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xT("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=WR.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",LT="__type__",UT="__previous_value__",zT="__local_write_time__";function fp(r){return(r?.mapValue?.fields||{})[LT]?.stringValue===kT}function Lh(r){const t=r.mapValue.fields[UT];return fp(t)?Lh(t):t}function su(r){const t=ps(r.mapValue.fields[zT].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const dh="(default)";class au{constructor(t,n){this.projectId=t,this.database=n||dh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===dh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",JR="__max__",Qc={mapValue:{}},qT="__vector__",mh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fp(r)?4:eI(r)?9007199254740991:tI(r)?10:11:Et(28295,{value:r})}function xi(r,t){if(r===t)return!0;const n=ys(r);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return wo(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Bv(f)!==Bv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!xi(f[g],m[g])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function ou(r,t){return(r.values||[]).find((n=>xi(n,t)))!==void 0}function Ro(r,t){if(r===t)return 0;const n=ys(r),s=ys(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ve(u.integerValue||u.doubleValue),g=ve(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Hv(r.timestampValue,t.timestampValue);case 4:return Hv(su(r),su(t));case 5:return Dm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=gs(u),g=gs(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Vt(m[y],g[y]);if(E!==0)return E}return Vt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Vt(ve(u.latitude),ve(f.latitude));return m!==0?m:Vt(ve(u.longitude),ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return jv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[mh]?.arrayValue,E=g[mh]?.arrayValue,b=Vt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:jv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=Dm(g[b],E[b]);if(w!==0)return w;const x=Ro(m[g[b]],y[E[b]]);if(x!==0)return x}return Vt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Hv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=ps(r),s=ps(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function jv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function Io(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return gt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function th(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(r);return t?16+th(t):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+th(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,f)=>{o+=u.length+th(f)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function Fv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function tI(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===qT}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return t}return{...r}}function eI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=$e.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Es(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new pn(Xl(this.value))}}function HT(r){const t=[];return Es(r.fields,((n,s)=>{const o=new $e([n]);if(eh(s)){const u=HT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),pn.empty(),0)}static newFoundDocument(t,n,s,o){return new nn(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new nn(t,2,n,bt.min(),bt.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new nn(t,3,n,bt.min(),bt.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n){this.position=t,this.inclusive=n}}function Kv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=Ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n="asc"){this.field=t,this.dir=n}}function nI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class Me extends jT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new rI(t,n,s):n==="array-contains"?new oI(t,s):n==="in"?new lI(t,s):n==="not-in"?new uI(t,s):n==="array-contains-any"?new cI(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new sI(t,s):new aI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends jT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ki(t,n)}matches(t){return FT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(r){return r.op==="and"}function GT(r){return iI(r)&&FT(r)}function iI(r){for(const t of r.filters)if(t instanceof ki)return!1;return!0}function Mm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(GT(r))return r.filters.map((t=>Mm(t))).join(",");{const t=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${t})`}}function KT(r,t){return r instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)})(r,t):r instanceof ki?(function(s,o){return o instanceof ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&KT(f,o.filters[m])),!0):!1})(r,t):void Et(19439)}function QT(r){return r instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(r):r instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"})(r):"Filter"}class rI extends Me{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class sI extends Me{constructor(t,n){super(t,"in",n),this.keys=YT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class aI extends Me{constructor(t,n){super(t,"not-in",n),this.keys=YT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function YT(r,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class oI extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dp(n)&&ou(n.arrayValue,this.value)}}class lI extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class uI extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class cI extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Yv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new hI(r,t,n,s,o,u,f)}function mp(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Io(s))).join(",")),t.Te=n}return t.Te}function pp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Qv(r.startAt,t.startAt)&&Qv(r.endAt,t.endAt)}function Vm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fI(r,t,n,s,o,u,f,m){return new Uh(r,t,n,s,o,u,f,m)}function gp(r){return new Uh(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dI(r){return r.collectionGroup!==null}function Wl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe($e.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new gh($e.keyField(),s))}return t.Ie}function Ii(r){const t=At(r);return t.Ee||(t.Ee=mI(t,Wl(r))),t.Ee}function mI(r,t){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)}));const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Pm(r,t,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function zh(r,t){return pp(Ii(r),Ii(t))&&r.limitType===t.limitType}function $T(r){return`${mp(Ii(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>QT(o))).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Bh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Kv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(f,m,g){const y=Kv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Wl(s),o))})(r,t)}function pI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XT(r){return(t,n)=>{let s=!1;for(const o of Wl(r)){const u=gI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gI(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ro(g,y):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Es(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new fe(gt.comparator);function Sr(){return yI}const WT=new fe(gt.comparator);function Kl(...r){let t=WT;for(const n of r)t=t.insert(n.key,n);return t}function ZT(r){let t=WT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function aa(){return Zl()}function JT(){return Zl()}function Zl(){return new _a((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _I=new fe(gt.comparator),vI=new Pe(gt.comparator);function Pt(...r){let t=vI;for(const n of r)t=t.add(n);return t}const EI=new Pe(Vt);function TI(){return EI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function t0(r){return{integerValue:""+r}}function SI(r,t){return YR(t)?t0(t):yp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function bI(r,t,n){return r instanceof yh?(function(o,u){const f={fields:{[LT]:{stringValue:kT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=Lh(u)),u&&(f.fields[UT]=u),{mapValue:f}})(n,t):r instanceof lu?n0(r,t):r instanceof uu?i0(r,t):(function(o,u){const f=e0(o,u),m=Xv(f)+Xv(o.Ae);return Om(f)&&Om(o.Ae)?t0(m):yp(o.serializer,m)})(r,t)}function AI(r,t,n){return r instanceof lu?n0(r,t):r instanceof uu?i0(r,t):n}function e0(r,t){return r instanceof _h?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class yh extends qh{}class lu extends qh{constructor(t){super(),this.elements=t}}function n0(r,t){const n=r0(t);for(const s of r.elements)n.some((o=>xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uu extends qh{constructor(t){super(),this.elements=t}}function i0(r,t){let n=r0(t);for(const s of r.elements)n=n.filter((o=>!xi(o,s)));return{arrayValue:{values:n}}}class _h extends qh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Xv(r){return ve(r.integerValue||r.doubleValue)}function r0(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?wo(s.elements,o.elements,xi):s instanceof _h&&o instanceof _h?xi(s.Ae,o.Ae):s instanceof yh&&o instanceof yh})(r.transform,t.transform)}class RI{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hh{}function s0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new o0(r.key,Ci.none()):new vu(r.key,r.data,Ci.none());{const n=r.data,s=pn.empty();let o=new Pe($e.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new In(o.toArray()),Ci.none())}}function II(r,t,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),g=Zv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Ts?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Zv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(a0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Jl(r,t,n,s){return r instanceof vu?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=u.value.clone(),E=Jv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ts?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=Jv(u.fieldTransforms,g,f),E=f.data;return E.setAll(a0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function CI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=e0(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function Wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,f)=>wI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class vu extends Hh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Hh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function a0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Zv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,AI(f,m,n[o]))}return s}function Jv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,bI(u,f,t))}return s}class o0 extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&II(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=JT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=s0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,((n,s)=>Wv(n,s)))&&wo(this.baseMutations,t.baseMutations,((n,s)=>Wv(n,s)))}}class _p{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return _I})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new _p(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Ut;function VI(r){switch(r){case nt.OK:return Et(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function l0(r){if(r===void 0)return Tr("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Ae.OK:return nt.OK;case Ae.CANCELLED:return nt.CANCELLED;case Ae.UNKNOWN:return nt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return nt.INTERNAL;case Ae.UNAVAILABLE:return nt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return nt.NOT_FOUND;case Ae.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ae.ABORTED:return nt.ABORTED;case Ae.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ae.DATA_LOSS:return nt.DATA_LOSS;default:return Et(39323,{code:r})}}(Ut=Ae||(Ae={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new fs([4294967295,4294967295],0);function tE(r){const t=PI().encode(r),n=new AT;return n.update(t),new Uint8Array(n.digest())}function eE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new fs([n,s],0),new fs([o,u],0)]}class vp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=fs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(fs.fromNumber(s)));return o.compare(xI)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=tE(t),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=tE(t),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new jh(bt.min(),o,new fe(Vt),Sr(),Pt())}}class Eu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Eu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class u0{constructor(t,n){this.targetId=t,this.Ce=n}}class c0{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=iE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new Eu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=iE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Sr(),this.Je=Yc(),this.He=Yc(),this.Ye=new fe(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new gt(u.path);this.et(n,f,nn.newNoDocument(f,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(g){if(g instanceof xT)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new vp(f,o,u)}catch(g){return Ao(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Vm(m.target)){const g=new gt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,nn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new jh(t,n,this.Ye,this.je,s);return this.je=Sr(),this.Je=Yc(),this.He=Yc(),this.Ye=new fe(Vt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new nE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yc(){return new fe(gt.comparator)}function iE(){return new fe(gt.comparator)}const LI={asc:"ASCENDING",desc:"DESCENDING"},UI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class BI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xm(r,t){return r.useProto3Json||kh(t)?t:{value:t}}function vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qI(r,t){return vh(r,t.toTimestamp())}function Di(r){return Ft(!!r,49232),bt.fromTimestamp((function(n){const s=ps(n);return new se(s.seconds,s.nanos)})(r))}function Ep(r,t){return km(r,t).canonicalString()}function km(r,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function f0(r){const t=ce.fromString(r);return Ft(y0(t),10190,{key:t.toString()}),t}function Lm(r,t){return Ep(r.databaseId,t.path)}function pm(r,t){const n=f0(t);if(n.get(1)!==r.databaseId.projectId)throw new dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(m0(n))}function d0(r,t){return Ep(r.databaseId,t)}function HI(r){const t=f0(r);return t.length===4?ce.emptyPath():m0(t)}function Um(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rE(r,t,n){return{name:Lm(r,t),fields:n.value.mapValue.fields}}function jI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?nt.UNKNOWN:l0(y.code);return new dt(E,y.message||"")})(f);n=new c0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=pm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):bt.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=pm(r,s.document),u=s.readTime?Di(s.readTime):bt.min(),f=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=pm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MI(o,u),m=s.targetId;n=new u0(m,f)}}return n}function FI(r,t){let n;if(t instanceof vu)n={update:rE(r,t.key,t.value)};else if(t instanceof o0)n={delete:Lm(r,t.key)};else if(t instanceof Ts)n={update:rE(r,t.key,t.data),updateMask:JI(t.fieldMask)};else{if(!(t instanceof DI))return Et(16599,{Vt:t.type});n={verify:Lm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof yh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function GI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(bt.min())&&(f=Di(u)),new RI(f,o.transformResults||[])})(n,t)))):[]}function KI(r,t){return{documents:[d0(r,t.path)]}}function QI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=d0(r,o);const u=(function(y){if(y.length!==0)return g0(ki.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:go(w.field),direction:XI(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function YI(r){let t=HI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const w=p0(b);return w instanceof ki&&GT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function(B){return new gh(yo(B.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,kh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,x=b.values||[];return new ph(x,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,x=b.values||[];return new ph(x,w)})(n.endAt)),fI(t,o,f,u,m,"F",g,y)}function $I(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function p0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Me.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>p0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function XI(r){return LI[r]}function WI(r){return UI[r]}function ZI(r){return zI[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return $e.fromServerFormat(r.fieldPath)}function g0(r){return r instanceof Me?(function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:WI(n.op),value:n.value}}})(r):r instanceof ki?(function(n){const s=n.getFilters().map((o=>g0(o)));return s.length===1?s[0]:{compositeFilter:{op:ZI(n.op),filters:s}}})(r):Et(54877,{filter:r})}function JI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=Xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ls(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.yt=t}}function eC(r){const t=YI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Cn=new iC}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ms.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ms.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class iC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pe(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(_0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",rC=1048576;function oE([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class sC{constructor(t){this.Ir=t,this.buffer=new Pe(oE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(aE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ut(aE,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)}))}}class oC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(xh.ce);const s=new sC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(sE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),mo()<=Mt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function lC(r,t){return new oC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changes=new _a((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,In.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=aa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Kl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Sr();const f=Zl(),m=(function(){return Zl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Jl(E.mutation,y,E.mutation.getFieldMask(),se.now())):f.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new cC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Zl();let o=new fe(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||In.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||Pt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=JT();E.forEach((w=>{if(!u.has(w)){const x=s0(n.get(w),s.get(w));x!==null&&b.set(w,x),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return tt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(aa());let m=ru,g=u;return f.next((y=>tt.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Pt()))).next((E=>({batchId:m,changes:ZT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(g=>{const y=(function(b,w){return new Uh(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))}));let m=Kl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Jl(E.mutation,y,In.empty(),se.now()),Bh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eC(o.bundledQuery),readTime:Di(o.readTime)}})(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.overlays=new fe(gt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=aa();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=aa(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=aa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new OI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ce([])),s=new qe(n,t),o=new qe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ce([])),s=new qe(n,t),o=new qe(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new qe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),o=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(Vt);return n.forEach((o=>{const u=new qe(o,0),f=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new qe(new gt(u),0);let m=new Pe(Vt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),tt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(n.mutations,(o=>{const u=new qe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new qe(n,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.ri=t,this.docs=(function(){return new fe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let s=Sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Sr();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||FR(jR(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new yC(this)}getSize(t){return tt.resolve(this.size)}}class yC extends uC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.persistence=t,this.si=new _a((n=>mp(n)),pp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Tp,this.targetCount=0,this.ai=Co.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new mC,this.referenceDelegate=t(this),this.Pi=new _C(this),this.indexManager=new nC,this.remoteDocumentCache=(function(o){return new gC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tC(n),this.Ii=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new pC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new vC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class vC extends KR{constructor(t){super(),this.currentSequenceNumber=t}}class Sp{constructor(t){this.persistence=t,this.Ri=new Tp,this.Vi=null}static mi(t){return new Sp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.pi=new _a((s=>$R(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=lC(this,n)}static mi(t,n){return new Eh(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return tt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=th(t.data.value)),n}br(t,n,s){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fw()?8:QR(rn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new EC;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(mo()<=Mt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(mo()<=Mt.DEBUG&&ut("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=Mt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(n))):tt.resolve())}ys(t,n){if($v(n))return tt.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Pm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return $v(n)||o.isEqual(bt.min())?tt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(mo()<=Mt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(t,f,n,HR(o,ru)).next((m=>m)))}))}Ds(t,n){let s=new Pe(XT(t));return n.forEach(((o,u)=>{Bh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return mo()<=Mt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(t,n,ms.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="LocalStore",SC=3e8;class bC{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(Vt),this.xs=new _a((u=>mp(u)),pp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function AC(r,t,n,s){return new bC(r,t,n,s)}async function E0(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function wC(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const b=y.batch,w=b.keys();let x=tt.resolve();return w.forEach((B=>{x=x.next((()=>E.getEntry(g,B))).next((Q=>{const U=y.docVersions.get(B);Ft(U!==null,48541),Q.version.compareTo(U)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function T0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function RC(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),(function(Q,U,$){return Q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=SC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,x,E)&&m.push(n.Pi.updateTargetData(u,x))}));let g=Sr(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(IC(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(bt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function IC(r,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Sr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(bt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ut(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function CC(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function DC(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ls(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function zm(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Lo(f))throw f;ut(Ap,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function lE(r,t,n){const s=At(r);let o=bt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=At(g),w=b.xs.get(E);return w!==void 0?tt.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,E)})(s,f,Ii(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Pt()))).next((m=>(NC(s,pI(t),m),{documents:m,Qs:u})))))}function NC(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class uE{constructor(){this.activeTargetIds=TI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OC{constructor(){this.Mo=new uE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new uE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(cE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(cE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Bm(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",VC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Bm(),m=this.zo(t,n.toUriEncodedString());ut(gm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=Vo(y);return this.Jo(t,m,g,s,E).then((b=>(ut(gm,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Ao(gm,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=VC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class kC extends PC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Bm();return new Promise(((m,g)=>{const y=new wT;y.setWithCredentials(!0),y.listenOnce(RT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const b=y.getResponseJson();ut(tn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Jc.TIMEOUT:ut(tn,`RPC '${t}' ${f} timed out`),g(new dt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=y.getStatus();if(ut(tn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const B=x?.error;if(B&&B.status&&B.message){const Q=(function($){const j=$.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(j)>=0?j:nt.UNKNOWN})(B.status);g(new dt(Q,B.message))}else g(new dt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new dt(nt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(tn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ut(tn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DT(),m=CT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ut(tn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let w=!1,x=!1;const B=new xC({Yo:U=>{x?ut(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(w||(ut(tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),ut(tn,`RPC '${t}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),Q=(U,$,j)=>{U.listen($,(Y=>{try{j(Y)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return Q(b,Gl.EventType.OPEN,(()=>{x||(ut(tn,`RPC '${t}' stream ${o} transport opened.`),B.o_())})),Q(b,Gl.EventType.CLOSE,(()=>{x||(x=!0,ut(tn,`RPC '${t}' stream ${o} transport closed`),B.a_(),this.E_(b))})),Q(b,Gl.EventType.ERROR,(U=>{x||(x=!0,Ao(tn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),B.a_(new dt(nt.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Gl.EventType.MESSAGE,(U=>{if(!x){const $=U.data[0];Ft(!!$,16349);const j=$,Y=j?.error||j[0]?.error;if(Y){ut(tn,`RPC '${t}' stream ${o} received error:`,Y);const ot=Y.status;let rt=(function(A){const R=Ae[A];if(R!==void 0)return l0(R)})(ot),ht=Y.message;rt===void 0&&(rt=nt.INTERNAL,ht="Unknown error status: "+ot+" with message "+Y.message),x=!0,B.a_(new dt(rt,ht)),b.close()}else ut(tn,`RPC '${t}' stream ${o} received:`,$),B.u_($)}})),Q(m,IT.STAT_EVENT,(U=>{U.stat===Cm.PROXY?ut(tn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Cm.NOPROXY&&ut(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(r){return new BI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class b0{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new dt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(fE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends b0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=jI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Di(f.readTime):bt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Vm(g)?{documents:KI(u,g)}:{query:QI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=h0(u,f.resumeToken);const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=$I(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Um(this.serializer),n.removeTarget=t,this.q_(n)}}class UC extends b0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=GI(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Um(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>FI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class BC extends zC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(nt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new dt(nt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class HC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{va(this)&&(ut(da,"Restarting streams for network reachability change."),await(async function(g){const y=At(g);y.Ea.add(4),await Tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new qC(s,o)}}async function Gh(r){if(va(r))for(const t of r.da)await t(!0)}async function Tu(r){for(const t of r.da)await t(!1)}function A0(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Cp(n)?Ip(n):Uo(n).O_()&&Rp(n,t))}function wp(r,t){const n=At(r),s=Uo(n);n.Ia.delete(t),s.O_()&&w0(n,t),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Ra.set("Unknown"))}function Rp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uo(r).Y_(t)}function w0(r,t){r.Va.Ue(t),Uo(r).Z_(t)}function Ip(r){r.Va=new kI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Cp(r){return va(r)&&!Uo(r).x_()&&r.Ia.size>0}function va(r){return At(r).Ea.size===0}function R0(r){r.Va=void 0}async function jC(r){r.Ra.set("Online")}async function FC(r){r.Ia.forEach(((t,n)=>{Rp(r,t)}))}async function GC(r,t){R0(r),Cp(r)?(r.Ra.ha(t),Ip(r)):r.Ra.set("Unknown")}async function KC(r,t,n){if(r.Ra.set("Online"),t instanceof c0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ut(da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Th(r,s)}else if(t instanceof ih?r.Va.Ze(t):t instanceof u0?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await T0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),w0(u,g);const b=new ls(E.target,g,y,E.sequenceNumber);Rp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ut(da,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,t,n){if(!Lo(t))throw t;r.Ea.add(1),await Tu(r),r.Ra.set("Offline"),n||(n=()=>T0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)}))}function I0(r,t){return t().catch((n=>Th(r,n,t)))}async function Kh(r){const t=At(r),n=_s(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hp;for(;QC(t);)try{const o=await CC(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,YC(t,o)}catch(o){await Th(t,o)}C0(t)&&D0(t)}function QC(r){return va(r)&&r.Ta.length<10}function YC(r,t){r.Ta.push(t);const n=_s(r);n.O_()&&n.X_&&n.ea(t.mutations)}function C0(r){return va(r)&&!_s(r).x_()&&r.Ta.length>0}function D0(r){_s(r).start()}async function $C(r){_s(r).ra()}async function XC(r){const t=_s(r);for(const n of r.Ta)t.ea(n.mutations)}async function WC(r,t,n){const s=r.Ta.shift(),o=_p.from(s,t,n);await I0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Kh(r)}async function ZC(r,t){t&&_s(r).X_&&await(async function(s,o){if((function(f){return VI(f)&&f!==nt.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await I0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kh(s)}})(r,t),C0(r)&&D0(r)}async function dE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ut(da,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gh(n)}async function JC(r,t){const n=At(r);t?(n.Ea.delete(2),await Gh(n)):t||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new LC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jC.bind(null,r),t_:FC.bind(null,r),r_:GC.bind(null,r),H_:KC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Cp(r)?Ip(r):r.Ra.set("Unknown")):(await r.ma.stop(),R0(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new UC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,r),r_:ZC.bind(null,r),ta:XC.bind(null,r),na:WC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Dp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(r,t){if(Tr("AsyncQueue",`${t}: ${r}`),Lo(r))return new dt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(t){return new vo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new fe(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Do{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Do(t,n,vo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class e2{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=pE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new dt(nt.ABORTED,"Firestore shutting down"))}}function pE(){return new _a((r=>$T(r)),zh)}async function n2(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new t2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Op(n)}async function i2(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r2(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Op(n)}function s2(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Op(r){r.Ca.forEach((t=>{t.next()}))}var qm,gE;(gE=qm||(qm={})).Ma="default",gE.Cache="cache";class a2{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Do(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Do.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t){this.key=t}}class O0{constructor(t){this.key=t}}class o2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=XT(t),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new mE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const w=o.get(E),x=Bh(this.query,b)?b:null,B=!!w&&this.mutatedKeys.has(w.key),Q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;w&&x?w.data.isEqual(x.data)?B!==Q&&(s.track({type:3,doc:x}),U=!0):this.su(w,x)||(s.track({type:2,doc:x}),U=!0,(g&&this.eu(x,g)>0||y&&this.eu(x,y)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),U=!0):w&&!x&&(s.track({type:1,doc:w}),U=!0,(g||y)&&(m=!0)),U&&(x?(f=f.add(x),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(x,B){const Q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:U})}};return Q(x)-Q(B)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Do(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new O0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new N0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mp="SyncEngine";class l2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class u2{constructor(t){this.key=t,this.hu=!1}}class c2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new _a((m=>$T(m)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(gt.comparator),this.Au=new Map,this.Ru=new Tp,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(r,t,n=!0){const s=L0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M0(s,t,n,!0),o}async function f2(r,t){const n=L0(r);await M0(n,t,!0,!1)}async function M0(r,t,n,s){const o=await DC(r.localStore,Ii(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await d2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&A0(r.remoteStore,o),m}async function d2(r,t,n,s,o){r.pu=(b,w,x)=>(async function(Q,U,$,j){let Y=U.view.ru($);Y.Cs&&(Y=await lE(Q.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,Y))));const ot=j&&j.targetChanges.get(U.targetId),rt=j&&j.targetMismatches.get(U.targetId)!=null,ht=U.view.applyChanges(Y,Q.isPrimaryClient,ot,rt);return _E(Q,U.targetId,ht.au),ht.snapshot})(r,b,w,x);const u=await lE(r.localStore,t,!0),f=new o2(t,u.Qs),m=f.ru(u.documents),g=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);_E(r,n,y.au);const E=new l2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function m2(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!zh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(ko)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function p2(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wp(n.remoteStore,s.targetId))}async function g2(r,t,n){const s=b2(r);try{const o=await(function(f,m){const g=At(f),y=se.now(),E=m.reduce(((x,B)=>x.add(B.key)),Pt());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let B=Sr(),Q=Pt();return g.Ns.getEntries(x,E).next((U=>{B=U,B.forEach((($,j)=>{j.isValidDocument()||(Q=Q.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(x,B))).next((U=>{b=U;const $=[];for(const j of m){const Y=CI(j,b.get(j.key).overlayedDocument);Y!=null&&$.push(new Ts(j.key,Y,HT(Y.value.mapValue),Ci.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,$,m)})).next((U=>{w=U;const $=U.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(x,U.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:ZT(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new fe(Vt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Su(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");n.reject(u)}}async function V0(r,t){const n=At(r);try{const s=await RC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await Su(n,s,t)}catch(s){await ko(s)}}function yE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=At(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,b)=>{for(const w of b.Sa)w.va(m)&&(y=!0)})),y&&Op(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function y2(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(gt.comparator);f=f.insert(u,nn.newNoDocument(u,bt.min()));const m=Pt().add(u),g=new jh(bt.min(),new Map,new fe(Vt),f,m);await V0(s,g),s.du=s.du.remove(u),s.Au.delete(t),Vp(s)}else await zm(s.localStore,t,!1).then((()=>Hm(s,t,n))).catch(ko)}async function _2(r,t){const n=At(r),s=t.batch.batchId;try{const o=await wC(n.localStore,t);x0(n,s,null),P0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await ko(o)}}async function v2(r,t,n){const s=At(r);try{const o=await(function(f,m){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ft(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);x0(s,t,n),P0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Su(s,o)}catch(o){await ko(o)}}function P0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function x0(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||k0(r,s)}))}function k0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(wp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Vp(r))}function _E(r,t,n){for(const s of n)s instanceof N0?(r.Ru.addReference(s.key,t),E2(r,s)):s instanceof O0?(ut(Mp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||k0(r,s.key)):Et(19791,{wu:s})}function E2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ut(Mp,"New document in limbo: "+n),r.Eu.add(s),Vp(r))}function Vp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new gt(ce.fromString(t)),s=r.fu.next();r.Au.set(s,new u2(n)),r.du=r.du.insert(n,s),A0(r.remoteStore,new ls(Ii(gp(n.path)),s,"TargetPurposeLimboResolution",xh.ce))}}async function Su(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=bp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>tt.forEach(y,(w=>tt.forEach(w.Es,(x=>E.persistence.referenceDelegate.addReference(b,w.targetId,x))).next((()=>tt.forEach(w.ds,(x=>E.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))))))}catch(b){if(!Lo(b))throw b;ut(Ap,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const x=E.Ms.get(w),B=x.snapshotVersion,Q=x.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(w,Q)}}})(s.localStore,u))}async function T2(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ut(Mp,"User change. New user:",t.toKey());const s=await E0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new dt(nt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function S2(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function L0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y2.bind(null,t),t.Pu.H_=r2.bind(null,t.eventManager),t.Pu.yu=s2.bind(null,t.eventManager),t}function b2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return AC(this.persistence,new TC,t.initialUser,this.serializer)}Cu(t){return new v0(Sp.mi,this.serializer)}Du(t){return new OC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class A2 extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new v0((s=>Eh.mi(s,n)),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new e2})()}createDatastore(t){const n=Fh(t.databaseInfo.databaseId),s=(function(u){return new kC(u)})(t.databaseInfo);return(function(u,f,m,g){return new BC(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new HC(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>yE(this.syncEngine,n,0)),(function(){return hE.v()?new hE:new MC})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const b=new c2(o,u,f,m,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ut(da,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class R2{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ut(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Np(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function _m(r,t){r.asyncQueue.verifyOperationInProgress(),ut(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await E0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function vE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await I2(r);ut(vs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dE(t.remoteStore,o))),r._onlineComponents=t}async function I2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(vs,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Sh)}}else ut(vs,"Using default OfflineComponentProvider"),await _m(r,new A2(void 0));return r._offlineComponents}async function U0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(vs,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(ut(vs,"Using default OnlineComponentProvider"),await vE(r,new jm))),r._onlineComponents}function C2(r){return U0(r).then((t=>t.syncEngine))}async function D2(r){const t=await U0(r),n=t.eventManager;return n.onListen=h2.bind(null,t.syncEngine),n.onUnlisten=m2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=f2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=p2.bind(null,t.syncEngine),n}function N2(r,t,n={}){const s=new ds;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new w2({next:w=>{E.Nu(),f.enqueueAndForget((()=>i2(u,b)));const x=w.docs.has(m);!x&&w.fromCache?y.reject(new dt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&g&&g.source==="server"?y.reject(new dt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new a2(gp(m.path),E,{includeMetadataChanges:!0,qa:!0});return n2(u,b)})(await D2(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firestore.googleapis.com",TE=!0;class SE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=TE}else this.host=t.host,this.ssl=t.ssl??TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rC)throw new dt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NR;switch(s.type){case"firstParty":return new PR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=EE.get(n);s&&(ut("ComponentProvider","Removing Datastore"),EE.delete(n),s.terminate())})(this),Promise.resolve()}}function O2(r,t,n,s={}){r=fa(r,Pp);const o=Vo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(gT(`https://${m}`),yT("Firestore",!0)),u.host!==B0&&u.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=en.MOCK_USER;else{y=iw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new dt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}r._authCredentials=new OR(new OT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xp(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(_u(n,Ve._jsonSchema))return new Ve(t,s||null,new gt(ce.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Re("string",Ve._jsonSchemaVersion),referencePath:Re("string")};class cu extends xp{constructor(t,n,s){super(t,n,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new gt(t))}withConverter(t){return new cu(this.firestore,t,this._path)}}function q0(r,t,...n){if(r=He(r),arguments.length===1&&(t=up.newId()),BR("doc","path",t),r instanceof Pp){const s=ce.fromString(t,...n);return kv(s),new Ve(r,null,new gt(s))}{if(!(r instanceof Ve||r instanceof cu))throw new dt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return kv(s),new Ve(r.firestore,r instanceof cu?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class AE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S0(this,"async_queue_retry"),this._c=()=>{const s=ym();s&&ut(bE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;ut(bE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",wE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Dp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function wE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qh extends Pp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new AE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new AE(t),this._firestoreClient=void 0,await t}}}function M2(r,t){const n=typeof r=="object"?r:TT(),s=typeof r=="string"?r:dh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ew("firestore");u&&O2(o,...u)}return o}function H0(r){if(r._terminated)throw new dt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||V2(r),r._firestoreClient}function V2(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new ZR(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,z0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new R2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Xe.fromBase64String(t))}catch(n){throw new dt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Re("string",Gn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Re("string",Ni._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Oi(t.vectorValues);throw new dt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Re("string",Oi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^__.*__$/;class x2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}class j0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function F0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Lp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(F0(this.Ac)&&P2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class k2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(t)}Cc(t,n,s,o=!1){return new Lp({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G0(r){const t=r._freezeSettings(),n=Fh(r._databaseId);return new k2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function L2(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Up("Data must be an object, but it was:",f,s);const m=K0(s,f);let g,y;if(u.merge)g=new In(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=Fm(t,b,n);if(!f.contains(w))throw new dt(nt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Y0(E,w)||E.push(w)}g=new In(E),y=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=f.fieldTransforms;return new x2(new pn(m),g,y)}class $h extends kp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $h}}function U2(r,t,n,s){const o=r.Cc(1,t,n);Up("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();Es(s,((g,y)=>{const E=zp(t,g,n);y=He(y);const b=o.yc(E);if(y instanceof $h)u.push(E);else{const w=Xh(y,b);w!=null&&(u.push(E),f.set(E,w))}}));const m=new In(u);return new j0(f,m,o.fieldTransforms)}function z2(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Fm(t,s,n)],g=[o];if(u.length%2!=0)throw new dt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Fm(t,u[w])),g.push(u[w+1]);const y=[],E=pn.empty();for(let w=m.length-1;w>=0;--w)if(!Y0(y,m[w])){const x=m[w];let B=g[w];B=He(B);const Q=f.yc(x);if(B instanceof $h)y.push(x);else{const U=Xh(B,Q);U!=null&&(y.push(x),E.set(x,U))}}const b=new In(y);return new j0(E,b,f.fieldTransforms)}function Xh(r,t){if(Q0(r=He(r)))return Up("Unsupported field value:",t,r),K0(r,t);if(r instanceof kp)return(function(s,o){if(!F0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Xh(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=He(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:h0(o.serializer,s._byteString)};if(s instanceof Ve){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ep(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,m){return{mapValue:{fields:{[BT]:{stringValue:qT},[mh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return yp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cp(s)}`)})(r,t)}function K0(r,t){const n={};return PT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(r,((s,o)=>{const u=Xh(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ni||r instanceof Gn||r instanceof Ve||r instanceof kp||r instanceof Oi)}function Up(r,t,n){if(!Q0(n)||!MT(n)){const s=cp(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Fm(r,t,n){if((t=He(t))instanceof Yh)return t._internalPath;if(typeof t=="string")return zp(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const B2=new RegExp("[~\\*/\\[\\]]");function zp(r,t,n){if(t.search(B2)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new dt(nt.INVALID_ARGUMENT,m+r+g)}function Y0(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(X0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q2 extends $0{data(){return super.data()}}function X0(r,t){return typeof t=="string"?zp(r,t):t instanceof Yh?t._internalPath:t._delegate._internalPath}class H2{convertValue(t,n="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(gs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Es(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[mh].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new Oi(n)}convertGeoPoint(t){return new Ni(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Lh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const n=ps(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Ft(y0(s),9688,{name:t});const o=new au(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Yl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends $0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(X0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Re("string",oa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class rh extends oa{data(t={}){return super.data(t)}}class tu{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:F2(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function F2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){r=fa(r,Ve);const t=fa(r.firestore,Qh);return N2(H0(t),r._key).then((n=>Y2(t,r,n)))}tu._jsonSchemaVersion="firestore/querySnapshot/1.0",tu._jsonSchema={type:Re("string",tu._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class K2 extends H2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function Q2(r,t,n){r=fa(r,Ve);const s=fa(r.firestore,Qh),o=j2(r.converter,t);return W0(s,[L2(G0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ci.none())])}function r4(r,t,n,...s){r=fa(r,Ve);const o=fa(r.firestore,Qh),u=G0(o);let f;return f=typeof(t=He(t))=="string"||t instanceof Yh?z2(u,"updateDoc",r._key,t,n,s):U2(u,"updateDoc",r._key,t),W0(o,[f.toMutation(r._key,Ci.exists(!0))])}function W0(r,t){return(function(s,o){const u=new ds;return s.asyncQueue.enqueueAndForget((async()=>g2(await C2(s),o,u))),u.promise})(H0(r),t)}function Y2(r,t,n){const s=n.docs.get(t._key),o=new K2(r);return new oa(r,o,t._key,s,new Yl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){xo=o})(Po),bo(new ca("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Qh(new MR(s.getProvider("auth-internal")),new xR(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hs(Mv,Vv,t),hs(Mv,Vv,"esm2020")})();function Z0(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=Z0(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function la(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=Z0(r))&&(s&&(s+=" "),s+=t);return s}function $2(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}$2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bu=r=>typeof r=="number"&&!isNaN(r),ma=r=>typeof r=="string",br=r=>typeof r=="function",X2=r=>ma(r)||bu(r),Gm=r=>ma(r)||br(r)?r:null,W2=(r,t)=>r===!1||bu(r)&&r>0?r:t,Km=r=>P.isValidElement(r)||ma(r)||br(r)||bu(r);function Z2(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function J2({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:g,nodeRef:y,isIn:E,playToast:b}){let w=n?`${r}--${f}`:r,x=n?`${t}--${f}`:t,B=P.useRef(0);return P.useLayoutEffect(()=>{let Q=y.current,U=w.split(" "),$=j=>{j.target===y.current&&(b(),Q.removeEventListener("animationend",$),Q.removeEventListener("animationcancel",$),B.current===0&&j.type!=="animationcancel"&&Q.classList.remove(...U))};Q.classList.add(...U),Q.addEventListener("animationend",$),Q.addEventListener("animationcancel",$)},[]),P.useEffect(()=>{let Q=y.current,U=()=>{Q.removeEventListener("animationend",U),s?Z2(Q,g,o):g()};E||(m?U():(B.current=1,Q.className+=` ${x}`,Q.addEventListener("animationend",U)))},[E]),Qt.createElement(Qt.Fragment,null,u)}}function RE(r,t){return{content:J0(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function J0(r,t,n=!1){return P.isValidElement(r)&&!ma(r.type)?P.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):br(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function tD({closeToast:r,theme:t,ariaLabel:n="close"}){return Qt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},Qt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function eD({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:g,isIn:y,theme:E}){let b=o||f&&m===0,w={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let x=la("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),B=br(u)?u({rtl:g,type:s,defaultClassName:x}):la(x,u),Q={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{y&&n()}};return Qt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Qt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Qt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:B,style:w,...Q}))}var nD=1,t1=()=>`${nD++}`;function iD(r,t,n){let s=1,o=0,u=[],f=[],m=t,g=new Map,y=new Set,E=j=>(y.add(j),()=>y.delete(j)),b=()=>{f=Array.from(g.values()),y.forEach(j=>j())},w=({containerId:j,toastId:Y,updateId:ot})=>{let rt=j?j!==r:r!==1,ht=g.has(Y)&&ot==null;return rt||ht},x=(j,Y)=>{g.forEach(ot=>{var rt;(Y==null||Y===ot.props.toastId)&&((rt=ot.toggle)==null||rt.call(ot,j))})},B=j=>{var Y,ot;(ot=(Y=j.props)==null?void 0:Y.onClose)==null||ot.call(Y,j.removalReason),j.isActive=!1},Q=j=>{if(j==null)g.forEach(B);else{let Y=g.get(j);Y&&B(Y)}b()},U=()=>{o-=u.length,u=[]},$=j=>{var Y,ot;let{toastId:rt,updateId:ht}=j.props,C=ht==null;j.staleId&&g.delete(j.staleId),j.isActive=!0,g.set(rt,j),b(),n(RE(j,C?"added":"updated")),C&&((ot=(Y=j.props).onOpen)==null||ot.call(Y))};return{id:r,props:m,observe:E,toggle:x,removeToast:Q,toasts:g,clearQueue:U,buildToast:(j,Y)=>{if(w(Y))return;let{toastId:ot,updateId:rt,data:ht,staleId:C,delay:A}=Y,R=rt==null;R&&o++;let O={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([k,D])=>D!=null)),toastId:ot,updateId:rt,data:ht,isIn:!1,className:Gm(Y.className||m.toastClassName),progressClassName:Gm(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:W2(Y.autoClose,m.autoClose),closeToast(k){g.get(ot).removalReason=k,Q(ot)},deleteToast(){let k=g.get(ot);if(k!=null){if(n(RE(k,"removed")),g.delete(ot),o--,o<0&&(o=0),u.length>0){$(u.shift());return}b()}}};O.closeButton=m.closeButton,Y.closeButton===!1||Km(Y.closeButton)?O.closeButton=Y.closeButton:Y.closeButton===!0&&(O.closeButton=Km(m.closeButton)?m.closeButton:!0);let V={content:j,props:O,staleId:C};m.limit&&m.limit>0&&o>m.limit&&R?u.push(V):bu(A)?setTimeout(()=>{$(V)},A):$(V)},setProps(j){m=j},setToggle:(j,Y)=>{let ot=g.get(j);ot&&(ot.toggle=Y)},isToastActive:j=>{var Y;return(Y=g.get(j))==null?void 0:Y.isActive},getSnapshot:()=>f}}var ln=new Map,hu=[],Qm=new Set,rD=r=>Qm.forEach(t=>t(r)),e1=()=>ln.size>0;function sD(){hu.forEach(r=>i1(r.content,r.options)),hu=[]}var aD=(r,{containerId:t})=>{var n;return(n=ln.get(t||1))==null?void 0:n.toasts.get(r)};function n1(r,t){var n;if(t)return!!((n=ln.get(t))!=null&&n.isToastActive(r));let s=!1;return ln.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function oD(r){if(!e1()){hu=hu.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||X2(r))ln.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=ln.get(r.containerId);t?t.removeToast(r.id):ln.forEach(n=>{n.removeToast(r.id)})}}var lD=(r={})=>{ln.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function i1(r,t){Km(r)&&(e1()||hu.push({content:r,options:t}),ln.forEach(n=>{n.buildToast(r,t)}))}function uD(r){var t;(t=ln.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function r1(r,t){ln.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(r,t?.id)})}function cD(r){let t=r.containerId||1;return{subscribe(n){let s=iD(t,r,rD);ln.set(t,s);let o=s.observe(n);return sD(),()=>{o(),ln.delete(t)}},setProps(n){var s;(s=ln.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ln.get(t))==null?void 0:n.getSnapshot()}}}function hD(r){return Qm.add(r),()=>{Qm.delete(r)}}function fD(r){return r&&(ma(r.toastId)||bu(r.toastId))?r.toastId:t1()}function Au(r,t){return i1(r,t),t.toastId}function Wh(r,t){return{...t,type:t&&t.type||r,toastId:fD(t)}}function Zh(r){return(t,n)=>Au(t,Wh(r,n))}function Jt(r,t){return Au(r,Wh("default",t))}Jt.loading=(r,t)=>Au(r,Wh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dD(r,{pending:t,error:n,success:s},o){let u;t&&(u=ma(t)?Jt.loading(t,o):Jt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(y,E,b)=>{if(E==null){Jt.dismiss(u);return}let w={type:y,...f,...o,data:b},x=ma(E)?{render:E}:E;return u?Jt.update(u,{...w,...x}):Jt(x.render,{...w,...x}),b},g=br(r)?r():r;return g.then(y=>m("success",s,y)).catch(y=>m("error",n,y)),g}Jt.promise=dD;Jt.success=Zh("success");Jt.info=Zh("info");Jt.error=Zh("error");Jt.warning=Zh("warning");Jt.warn=Jt.warning;Jt.dark=(r,t)=>Au(r,Wh("default",{theme:"dark",...t}));function mD(r){oD(r)}Jt.dismiss=mD;Jt.clearWaitingQueue=lD;Jt.isActive=n1;Jt.update=(r,t={})=>{let n=aD(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:t1()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Au(f,u)}};Jt.done=r=>{Jt.update(r,{progress:1})};Jt.onChange=hD;Jt.play=r=>r1(!0,r);Jt.pause=r=>r1(!1,r);function pD(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=P.useRef(cD(r)).current;o(r);let u=(t=P.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let g=new Map;return r.newestOnTop&&u.reverse(),u.forEach(y=>{let{position:E}=y.props;g.has(E)||g.set(E,[]),g.get(E).push(y)}),Array.from(g,y=>m(y[0],y[1]))}return{getToastToRender:f,isToastActive:n1,count:u?.length}}function gD(r){let[t,n]=P.useState(!1),[s,o]=P.useState(!1),u=P.useRef(null),f=P.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:g,closeToast:y,onClick:E,closeOnClick:b}=r;uD({id:r.toastId,containerId:r.containerId,fn:n}),P.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{x()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||$(),window.addEventListener("focus",U),window.addEventListener("blur",$)}function x(){window.removeEventListener("focus",U),window.removeEventListener("blur",$)}function B(C){if(r.draggable===!0||r.draggable===C.pointerType){j();let A=u.current;f.canCloseOnClick=!0,f.canDrag=!0,A.style.transition="none",r.draggableDirection==="x"?(f.start=C.clientX,f.removalDistance=A.offsetWidth*(r.draggablePercent/100)):(f.start=C.clientY,f.removalDistance=A.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function Q(C){let{top:A,bottom:R,left:O,right:V}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&r.pauseOnHover&&C.clientX>=O&&C.clientX<=V&&C.clientY>=A&&C.clientY<=R?$():U()}function U(){n(!0)}function $(){n(!1)}function j(){f.didMove=!1,document.addEventListener("pointermove",ot),document.addEventListener("pointerup",rt)}function Y(){document.removeEventListener("pointermove",ot),document.removeEventListener("pointerup",rt)}function ot(C){let A=u.current;if(f.canDrag&&A){f.didMove=!0,t&&$(),r.draggableDirection==="x"?f.delta=C.clientX-f.start:f.delta=C.clientY-f.start,f.start!==C.clientX&&(f.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function rt(){Y();let C=u.current;if(f.canDrag&&f.didMove&&C){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let ht={onPointerDown:B,onPointerUp:Q};return m&&g&&(ht.onMouseEnter=$,r.stacked||(ht.onMouseLeave=U)),b&&(ht.onClick=C=>{E&&E(C),f.canCloseOnClick&&y(!0)}),{playToast:U,pauseToast:$,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:ht}}var yD=typeof window<"u"?P.useLayoutEffect:P.useEffect,Jh=({theme:r,type:t,isLoading:n,...s})=>Qt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function _D(r){return Qt.createElement(Jh,{...r},Qt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vD(r){return Qt.createElement(Jh,{...r},Qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ED(r){return Qt.createElement(Jh,{...r},Qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TD(r){return Qt.createElement(Jh,{...r},Qt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function SD(){return Qt.createElement("div",{className:"Toastify__spinner"})}var Ym={info:vD,warning:_D,success:ED,error:TD,spinner:SD},bD=r=>r in Ym;function AD({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(br(s)?o=s({...u,isLoading:n}):P.isValidElement(s)?o=P.cloneElement(s,u):n?o=Ym.spinner():bD(t)&&(o=Ym[t](u))),o}var wD=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=gD(r),{closeButton:f,children:m,autoClose:g,onClick:y,type:E,hideProgressBar:b,closeToast:w,transition:x,position:B,className:Q,style:U,progressClassName:$,updateId:j,role:Y,progress:ot,rtl:rt,toastId:ht,deleteToast:C,isIn:A,isLoading:R,closeOnClick:O,theme:V,ariaLabel:k}=r,D=la("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":rt},{"Toastify__toast--close-on-click":O}),pe=br(Q)?Q({rtl:rt,position:B,type:E,defaultClassName:D}):la(D,Q),te=AD(r),X=!!ot||!g,at={closeToast:w,type:E,theme:V},ft=null;return f===!1||(br(f)?ft=f(at):P.isValidElement(f)?ft=P.cloneElement(f,at):ft=tD(at)),Qt.createElement(x,{isIn:A,done:C,position:B,preventExitTransition:n,nodeRef:s,playToast:u},Qt.createElement("div",{id:ht,tabIndex:0,onClick:y,"data-in":A,className:pe,...o,style:U,ref:s,...A&&{role:Y,"aria-label":k}},te!=null&&Qt.createElement("div",{className:la("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},te),J0(m,r,!t),ft,!r.customProgressBar&&Qt.createElement(eD,{...j&&!X?{key:`p-${j}`}:{},rtl:rt,theme:V,delay:g,isRunning:t,isIn:A,closeToast:w,hide:b,type:E,className:$,controlledProgress:X,progress:ot||0})))},RD=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),ID=J2(RD("bounce",!0)),CD={position:"top-right",transition:ID,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function DD(r){let t={...CD,...r},n=r.stacked,[s,o]=P.useState(!0),u=P.useRef(null),{getToastToRender:f,isToastActive:m,count:g}=pD(t),{className:y,style:E,rtl:b,containerId:w,hotKeys:x}=t;function B(U){let $=la("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":b});return br(y)?y({position:U,rtl:b,defaultClassName:$}):la($,Gm(y))}function Q(){n&&(o(!0),Jt.play())}return yD(()=>{var U;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),j=12,Y=(U=t.position)==null?void 0:U.includes("top"),ot=0,rt=0;Array.from($).reverse().forEach((ht,C)=>{let A=ht;A.classList.add("Toastify__toast--stacked"),C>0&&(A.dataset.collapsed=`${s}`),A.dataset.pos||(A.dataset.pos=Y?"top":"bot");let R=ot*(s?.2:1)+(s?0:j*C);A.style.setProperty("--y",`${Y?R:R*-1}px`),A.style.setProperty("--g",`${j}`),A.style.setProperty("--s",`${1-(s?rt:0)}`),ot+=A.offsetHeight,rt+=.025})}},[s,g,n]),P.useEffect(()=>{function U($){var j;let Y=u.current;x($)&&((j=Y.querySelector('[tabIndex="0"]'))==null||j.focus(),o(!1),Jt.pause()),$.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),Jt.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[x]),Qt.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),Jt.pause())},onMouseLeave:Q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((U,$)=>{let j=$.length?{...E}:{...E,pointerEvents:"none"};return Qt.createElement("div",{tabIndex:-1,className:B(U),"data-stacked":n,style:j,key:`c-${U}`},$.map(({content:Y,props:ot})=>Qt.createElement(wD,{...ot,stacked:n,collapseAll:Q,isIn:m(ot.toastId,ot.containerId),key:`t-${ot.key}`},Y)))}))}var ND="firebase",OD="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(ND,OD,"app");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MD=s1,a1=new gu("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new sp("@firebase/auth");function VD(r,...t){Ah.logLevel<=Mt.WARN&&Ah.warn(`Auth (${Po}): ${r}`,...t)}function sh(r,...t){Ah.logLevel<=Mt.ERROR&&Ah.error(`Auth (${Po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r,...t){throw Bp(r,...t)}function Mi(r,...t){return Bp(r,...t)}function o1(r,t,n){const s={...MD(),[t]:n};return new gu("auth","Firebase",s).create(t,{appName:r.name})}function _r(r){return o1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return a1.create(r,...t)}function vt(r,t,...n){if(!r)throw Bp(t,...n)}function pr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw sh(t),new Error(t)}function Ar(r,t){r||pr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){return typeof self<"u"&&self.location?.href||""}function PD(){return IE()==="http:"||IE()==="https:"}function IE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PD()||uw()||"connection"in navigator)?navigator.onLine:!0}function kD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile=aw()||cw()}get(){return xD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,t){Ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zD=new wu(3e4,6e4);function Ir(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ui(r,t,n,s,o={}){return u1(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=yu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return lw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(y.credentials="include"),l1.fetch()(await c1(r,r.config.apiHost,n,m),y)})}async function u1(r,t,n){r._canInitEmulator=!1;const s={...LD,...t};try{const o=new qD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw o1(r,E,y);si(r,E)}}catch(o){if(o instanceof Rr)throw o;si(r,"network-request-failed",{message:String(o)})}}async function Ru(r,t,n,s,o={}){const u=await Ui(r,t,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function c1(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?qp(r.config,o):`${r.config.apiScheme}://${o}`;return UD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function BD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),zD.get())})}}function Xc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,t,s);return o.customData._tokenResponse=n,o}function CE(r){return r!==void 0&&r.enterprise!==void 0}class HD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return BD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jD(r,t){return Ui(r,"GET","/v2/recaptchaConfig",Ir(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,t){return Ui(r,"POST","/v1/accounts:delete",t)}async function wh(r,t){return Ui(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GD(r,t=!1){const n=He(r),s=await n.getIdToken(t),o=Hp(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(vm(o.auth_time)),issuedAtTime:eu(vm(o.iat)),expirationTime:eu(vm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vm(r){return Number(r)*1e3}function Hp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DE(r){const t=Hp(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Rr&&KD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function KD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){const t=r.auth,n=await r.getIdToken(),s=await No(r,wh(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?h1(o.providerUserInfo):[],f=$D(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function YD(r){const t=He(r);await Rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $D(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function h1(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(r,t){const n=await u1(r,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await c1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(g.credentials="include"),l1.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(r,t){return Ui(r,"POST","/v2/accounts:revokeToken",Ir(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=DE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await XD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Eo;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new QD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await No(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return GD(this,t)}reload(){return YD(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(_r(this.auth));const t=await this.getIdToken();return await No(this,FD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:B,stsTokenManager:Q}=n;vt(b&&Q,t,"internal-error");const U=Eo.fromJSON(this.name,Q);vt(typeof b=="string",t,"internal-error"),is(s,t.name),is(o,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof x=="boolean",t,"internal-error"),is(u,t.name),is(f,t.name),is(m,t.name),is(g,t.name),is(y,t.name),is(E,t.name);const $=new ri({uid:b,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:y,lastLoginAt:E});return B&&Array.isArray(B)&&($.providerData=B.map(j=>({...j}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?h1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function gr(r){Ar(r instanceof Function,"Expected a class definition");let t=NE.get(r);return t?(Ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,NE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}f1.type="NONE";const OE=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,t,n){return`firebase:${r}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wh(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(gr(OE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||gr(OE);const f=ah(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const w=await wh(t,{idToken:E}).catch(()=>{});if(!w)break;b=await ri._fromGetAccountInfoResponse(t,w,E)}else b=ri._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new To(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new To(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_1(t))return"Blackberry";if(v1(t))return"Webos";if(m1(t))return"Safari";if((t.includes("chrome/")||p1(t))&&!t.includes("edge/"))return"Chrome";if(y1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function d1(r=rn()){return/firefox\//i.test(r)}function m1(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p1(r=rn()){return/crios\//i.test(r)}function g1(r=rn()){return/iemobile/i.test(r)}function y1(r=rn()){return/android/i.test(r)}function _1(r=rn()){return/blackberry/i.test(r)}function v1(r=rn()){return/webos/i.test(r)}function jp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZD(r=rn()){return jp(r)&&!!window.navigator?.standalone}function JD(){return hw()&&document.documentMode===10}function E1(r=rn()){return jp(r)||y1(r)||v1(r)||_1(r)||/windows phone/i.test(r)||g1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r,t=[]){let n;switch(r){case"Browser":n=ME(rn());break;case"Worker":n=`${ME(rn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,t={}){return Ui(r,"GET","/v2/passwordPolicy",Ir(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class iN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wh(this,{idToken:t}),s=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(_r(this));const n=t?He(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eN(this),n=new iN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gr(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&VD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ss(r){return He(r)}class VE{constructor(t){this.auth=t,this.observer=null,this.addObserver=vw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(r){tf=r}function S1(r){return tf.loadJS(r)}function aN(){return tf.recaptchaEnterpriseScript}function oN(){return tf.gapiScript}function lN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class cN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const hN="recaptcha-enterprise",b1="NO_RECAPTCHA";class fN{constructor(t){this.type=hN,this.auth=Ss(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{jD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new HD(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;CE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(b1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&CE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=aN();g.length!==0&&(g+=m),S1(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function PE(r,t,n,s=!1,o=!1){const u=new fN(r);let f;if(o)f=b1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ih(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await PE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await PE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r,t){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,t??{}))return o;si(o,"already-initialized")}return n.initialize({options:t})}function mN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function pN(r,t,n){const s=Ss(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=A1(t),{host:f,port:m}=gN(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(ua(y,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vo(f)?(gT(`${u}//${f}${g}`),yT("Auth",!0)):yN()}function A1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function gN(r){const t=A1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:xE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:xE(f)}}}function xE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function yN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,n){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}async function _N(r,t){return Ui(r,"POST","/v1/accounts:update",t)}async function vN(r,t){return Ui(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,t){return Ru(r,"POST","/v1/accounts:signInWithPassword",Ir(r,t))}async function TN(r,t){return Ui(r,"POST","/v1/accounts:sendOobCode",Ir(r,t))}async function SN(r,t){return TN(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,t){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",Ir(r,t))}async function AN(r,t){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",Ir(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Fp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new fu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new fu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,n,"signInWithPassword",EN);case"emailLink":return bN(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,s,"signUpPassword",vN);case"emailLink":return AN(t,{idToken:n,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r,t){return Ru(r,"POST","/v1/accounts:signInWithIdp",Ir(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="http://localhost";class pa extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new pa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return So(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,So(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,So(t,n)}buildRequest(){const t={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IN(r){const t=jl(Fl(r)).link,n=t?jl(Fl(t)).deep_link_id:null,s=jl(Fl(r)).deep_link_id;return(s?jl(Fl(s)).link:null)||s||n||t||r}class Gp{constructor(t){const n=jl(Fl(t)),s=n.apiKey??null,o=n.oobCode??null,u=RN(n.mode??null);vt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=IN(t);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(t,n){return fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Gp.parseLink(n);return vt(s,"argument-error"),fu._fromEmailAndCode(t,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends w1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Iu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return pa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Iu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Iu{constructor(){super("twitter.com")}static credential(t,n){return pa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,t){return Ru(r,"POST","/v1/accounts:signUp",Ir(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ri._fromIdTokenResponse(t,s,o),f=kE(s);return new ga({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=kE(s);return new ga({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function kE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Rr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ch(t,n,s,o)}}function R1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,t,s):u})}async function DN(r,t,n=!1){const s=await No(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ga._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(r,t,n=!1){const{auth:s}=r;if(Fn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await No(r,R1(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=Hp(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),ga._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,t,n=!1){if(Fn(r.app))return Promise.reject(_r(r));const s="signIn",o=await R1(r,s,t),u=await ga._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NN(r,t){return C1(Ss(r),t)}async function s4(r,t){return I1(He(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(r){const t=Ss(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function a4(r,t,n){const s=Ss(r);await Ih(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SN)}async function ON(r,t,n){if(Fn(r.app))return Promise.reject(_r(r));const s=Ss(r),f=await Ih(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&D1(r),g}),m=await ga._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function MN(r,t,n){return Fn(r.app)?Promise.reject(_r(r)):NN(He(r),zo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&D1(r),s})}function o4(r,t){return VN(He(r),null,t)}async function VN(r,t,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await No(r,_N(s,u));await r._updateTokensIfNecessary(f,!0)}function PN(r,t,n,s){return He(r).onIdTokenChanged(t,n,s)}function xN(r,t,n){return He(r).beforeAuthStateChanged(t,n)}function kN(r,t,n,s){return He(r).onAuthStateChanged(t,n,s)}function LN(r){return He(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e3,zN=10;class O1 extends N1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);JD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}O1.type="LOCAL";const BN=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends N1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}M1.type="SESSION";const V1=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new ef(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await qN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Kp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function jN(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function FN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GN(){return navigator?.serviceWorker?.controller||null}function KN(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",QN=1,Nh="firebaseLocalStorage",k1="fbase_key";class Cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,t){return r.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function YN(){const r=indexedDB.deleteDatabase(x1);return new Cu(r).toPromise()}function Wm(){const r=indexedDB.open(x1,QN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:k1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?t(s):(s.close(),await YN(),t(await Wm()))})})}async function LE(r,t,n){const s=nf(r,!0).put({[k1]:t,value:n});return new Cu(s).toPromise()}async function $N(r,t){const n=nf(r,!1).get(t),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function UE(r,t){const n=nf(r,!0).delete(t);return new Cu(n).toPromise()}const XN=800,WN=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>WN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(KN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FN(),!this.activeServiceWorker)return;this.sender=new HN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wm();return await LE(t,Dh,"1"),await UE(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>LE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$N(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new Cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const ZN=L1;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r,t){return t?gr(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,n){return So(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tO(r){return C1(r.auth,new Qp(r),r.bypassAuthState)}function eO(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),I1(n,new Qp(r),r.bypassAuthState)}async function nO(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),DN(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return nO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:si(this.auth,"internal-error")}}resolve(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new wu(2e3,1e4);class _o extends U1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const t=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iO.get())};t()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="pendingRedirect",oh=new Map;class sO extends U1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=oh.get(this.auth._key());if(!t){try{const s=await aO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}oh.set(this.auth._key(),t)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(r,t){const n=uO(t),s=lO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oO(r,t){oh.set(r._key(),t)}function lO(r){return gr(r._redirectPersistence)}function uO(r){return ah(rO,r.config.apiKey,r.name)}async function cO(r,t,n=!1){if(Fn(r.app))return Promise.reject(_r(r));const s=Ss(r),o=JN(s,t),f=await new sO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=600*1e3;class fO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!z1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hO&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(t))}saveEventToCache(t){this.cachedEventUids.add(zE(t)),this.lastProcessedEventTime=Date.now()}}function zE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function z1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(r,t={}){return Ui(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mO(r);for(const n of t)try{if(_O(n))return}catch{}si(r,"unauthorized-domain")}function _O(r){const t=$m(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gO.test(n))return!1;if(pO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new wu(3e4,6e4);function BE(){const r=Vi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EO(r){return new Promise((t,n)=>{function s(){BE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(Mi(r,"network-request-failed"))},timeout:vO.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=lN("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},S1(`${oN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw lh=null,t})}let lh=null;function TO(r){return lh=lh||EO(r),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new wu(5e3,15e3),bO="__/auth/iframe",AO="emulator/auth/iframe",wO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IO(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?qp(t,AO):`https://${r.config.authDomain}/${bO}`,s={apiKey:t.apiKey,appName:r.name,v:Po},o=RO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function CO(r){const t=await TO(r),n=Vi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:IO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},SO.get());function g(){Vi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,OO=600,MO="_blank",VO="http://localhost";class qE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(r,t,n,s=NO,o=OO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...DO,width:s.toString(),height:o.toString(),top:u,left:f},y=rn().toLowerCase();n&&(m=p1(y)?MO:n),d1(y)&&(t=t||VO,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[x,B])=>`${w}${x}=${B},`,"");if(ZD(y)&&m!=="_self")return xO(t||"",m),new qE(null);const b=window.open(t||"",m,E);vt(b,r,"popup-blocked");try{b.focus()}catch{}return new qE(b)}function xO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="__/auth/handler",LO="emulator/auth/handler",UO=encodeURIComponent("fac");async function HE(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(t instanceof w1){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",_w(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Iu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${UO}=${encodeURIComponent(g)}`:"";return`${zO(r)}?${yu(m).slice(1)}${y}`}function zO({config:r}){return r.emulator?qp(r,LO):`https://${r.authDomain}/${kO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class BO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V1,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(t,n,s,o){Ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await HE(t,n,s,$m(),o);return PO(t,u,Kp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await HE(t,n,s,$m(),o);return jN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await CO(t),s=new fO(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Em,{type:Em},o=>{const u=o?.[0]?.[Em];u!==void 0&&n(!!u),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E1()||m1()||jp()}}const qO=BO;var jE="@firebase/auth",FE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FO(r){bo(new ca("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(r)},y=new rN(s,o,u,g);return mN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),bo(new ca("auth-internal",t=>{const n=Ss(t.getProvider("auth").getImmediate());return(s=>new HO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(jE,FE,jO(r)),hs(jE,FE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=300,KO=pT("authIdTokenMaxAge")||GO;let GE=null;const QO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KO)return;const o=n?.token;GE!==o&&(GE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YO(r=TT()){const t=op(r,"auth");if(t.isInitialized())return t.getImmediate();const n=dN(r,{popupRedirectResolver:qO,persistence:[ZN,BN,V1]}),s=pT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=QO(u.toString());xN(n,f,()=>f(n.currentUser)),PN(n,m=>f(m))}}const o=dT("auth");return o&&pN(n,`http://${o}`),n}function $O(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$O().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FO("Browser");const XO={apiKey:"AIzaSyDDKsIihRLOSFLxi5r62JGkVw21EjPmffQ",authDomain:"note-project-e9c7c.firebaseapp.com",projectId:"note-project-e9c7c",storageBucket:"note-project-e9c7c.firebasestorage.app",messagingSenderId:"46151994143",appId:"1:46151994143:web:8c0fca08326e585e9c3e2a"},B1=ET(XO),rf=YO(B1),q1=M2(B1),l4=async(r,t,n,s,o)=>{const f=(await ON(rf,r,t)).user;return await Q2(q0(q1,"users",f.uid),{id:f.uid,email:r,altEmail:"",firstName:n,lastName:s,check:o,userName:"",city:"",gender:"",dob:"",maritalStatus:"",age:"",country:"",state:"",address:"",contactNumber:"",url:"",language:{english:"",french:"",spanish:"",arabic:"",italian:""},facebook:"",twitter:"",google:"",instagram:"",youtube:""}),f},u4=async(r,t)=>{const n=await MN(rf,r,t);return console.log(n),n},c4=async()=>{await LN(rf)},Zm=P.createContext(),WO=r=>{const[t,n]=P.useState("Your Note"),[s,o]=P.useState(!1),[u,f]=P.useState(!1),[m,g]=P.useState(!1),[y,E]=P.useState(!1),[b,w]=P.useState(!1),[x,B]=P.useState(!1),[Q,U]=P.useState(!1),[$,j]=P.useState(!1),[Y,ot]=P.useState(!1),[rt,ht]=P.useState(!1),[C,A]=P.useState(!1),[R,O]=P.useState(!1),[V,k]=P.useState("normal"),[D,pe]=P.useState("all"),[te,X]=P.useState("all-note-table"),[at,ft]=P.useState(""),[zt,N]=P.useState(""),[et,lt]=P.useState(null),[it,pt]=P.useState([]),[Rt,Tt]=P.useState(null),[Ee,Yt]=P.useState([]),[Cn,ai]=P.useState([]),[Kn,zi]=P.useState([]),[sn,oi]=P.useState(null),[bs,As]=P.useState(""),[un,Ea]=P.useState(""),[ws,Bi]=P.useState(""),[qi,Ta]=P.useState(""),[Cr,Rs]=P.useState(sn?.gender||""),[Sa,re]=P.useState(""),[qt,We]=P.useState(""),[xe,Is]=P.useState(""),[Bo,li]=P.useState(""),[Hi,ui]=P.useState(""),[gn,ji]=P.useState(""),[Fi,Cs]=P.useState(""),[Ds,Dr]=P.useState(""),[Qn,Dn]=P.useState(""),[Ns,yn]=P.useState(""),[Os,ci]=P.useState(""),[Nr,Yn]=P.useState(""),[ba,ee]=P.useState(""),[ge,oe]=P.useState(""),[cn,Or]=P.useState(""),[qo,$n]=P.useState(""),[Aa,hi]=P.useState([]),[fi,Xn]=P.useState(sn?.language?.english==="French"||""),[Nn,On]=P.useState(sn?.language?.french==="French"||""),[je,le]=P.useState(sn?.language?.spanish==="French"||""),[Ms,Mr]=P.useState(sn?.language?.arabic==="French"||""),[_n,Wn]=P.useState(sn?.language?.italian==="French"||""),[wa,Ra]=P.useState(!1),[Gi,Ia]=P.useState([]),[di,Mn]=P.useState([]),Ie={blow:"blow",bveryLow:"bvery-low",bhigh:"bhigh",bveryHigh:"bvery-high",bmedium:"bmedium",bdefault:"bdefault"},Ki={low:"low",veryLow:"very-low",high:"high",veryHigh:"very-high",medium:"medium",default:"default"},Ca=(Jn,Qi,Yi,It=!1)=>{Jt.update(Jn,{render:Qi,type:Yi,autoClose:2e3,isLoading:It})},Zn=P.useCallback(async Jn=>{Cs(Jn);const Qi=q0(q1,"users",Jn),It=(await G2(Qi)).data();oi(It),It&&(ji(It.address),Is(It.age),Ta(It.city),Dn(It.contactNumber),li(It.country),re(It.dob),Dr(It.email),Yn(It.facebook),As(It.firstName),oe(It.google),Or(It.instagram),hi(It.language),Ea(It.lastName),We(It.maritalStatus),ui(It.state),ee(It.twitter),yn(It.url),Bi(It.userName),$n(It.youtube))},[]),Vr={headerState:t,setHeaderState:n,AppContext:Zm,viewCard:s,setViewCard:o,editCard:u,setEditCard:f,deleteCard:m,setDeleteCard:g,noteCollection:D,setNoteCollection:pe,newTag:y,setNewTag:E,tags:di,setTags:Mn,tagContainer:Q,setTagContainer:U,renameTag:b,setRenameTag:w,deleteTag:x,setDeleteTag:B,tagId:zt,setTagId:N,tableCollection:te,setTableCollection:X,notes:Gi,setNotes:Ia,color:Ki,bcolor:Ie,priority:at,setPriority:ft,filterNote:et,setFilterNote:lt,boldState:$,setBoldState:j,italicState:Y,setItalicState:ot,underlineState:rt,setUnderlineState:ht,selectValue:V,setSelectValue:k,deletedNote:it,setDeletedNote:pt,matchDeletedNote:Rt,setMatchDeletedNote:Tt,viewDeleteNote:C,setViewDeleteNote:A,togglePinNote:R,setTogglePinNote:O,pinNotes:Ee,setPinNotes:Yt,setFavouriteNotes:ai,favouriteNotes:Cn,searchResult:Kn,setSearchResult:zi,UpdateToast:Ca,userData:sn,setUserData:oi,StoreUserData:Zn,firstName:bs,setFirstName:As,lastName:un,setLastName:Ea,userName:ws,setUserName:Bi,city:qi,setCity:Ta,gender:Cr,setGender:Rs,dob:Sa,setDob:re,maritalStatus:qt,setMaritalStatus:We,age:xe,setAge:Is,country:Bo,setCountry:li,state:Hi,setState:ui,address:gn,setAddress:ji,userId:Fi,email:Ds,setEmail:Dr,setContactNumber:Dn,contactNumber:Qn,url:Ns,setUrl:yn,altEmail:Os,setAltEmail:ci,facebook:Nr,setFacebook:Yn,twitter:ba,setTwitter:ee,google:ge,setGoogle:oe,instagram:cn,setInstagram:Or,youtube:qo,setYoutube:$n,language:Aa,setLanguage:hi,english:fi,setEnglish:Xn,french:Nn,setFrench:On,spanish:je,setSpanish:le,arabic:Ms,setArabic:Mr,italian:_n,setItalian:Wn,toggle:wa,setToggle:Ra};return we.jsx(Zm.Provider,{value:Vr,children:r.children})},ZO=Qt.lazy(()=>Vh(()=>import("./SignUp-D5Yqr4ZO.js"),__vite__mapDeps([0,1,2]))),JO=Qt.lazy(()=>Vh(()=>import("./SignIn-CSBfzwoO.js"),__vite__mapDeps([3,1,4]))),t4=Qt.lazy(()=>Vh(()=>import("./ResetPassword-U2bAs2Ux.js"),__vite__mapDeps([5,1,6]))),e4=Qt.lazy(()=>Vh(()=>import("./Dashboard-B6mWtZYb.js"),__vite__mapDeps([7,8])));function n4(){const r=eT(),{setNotes:t,notes:n,deletedNote:s,setDeletedNote:o,pinNotes:u,setPinNotes:f,setFavouriteNotes:m,favouriteNotes:g,StoreUserData:y,tags:E,setTags:b}=P.useContext(Zm),[w,x]=P.useState(!1),[B,Q]=P.useState("");return P.useEffect(()=>{const U=kN(rf,$=>{$&&(y($.uid),Q($.uid))});return()=>U()},[y,r]),P.useEffect(()=>{if(!B)return;const U=JSON.parse(localStorage.getItem(`notes${B}`)),$=JSON.parse(localStorage.getItem(`deletedNote${B}`)),j=JSON.parse(localStorage.getItem(`pinNotes${B}`)),Y=JSON.parse(localStorage.getItem(`favouriteNotes${B}`)),ot=JSON.parse(localStorage.getItem(`tags${B}`));if(U){const rt=[...U].sort((ht,C)=>C.createdAt-ht.createdAt);t(rt)}if($){const rt=[...$].sort((ht,C)=>C.createdAt-ht.createdAt);o(rt)}if(j){const rt=[...j].sort((ht,C)=>C.createdAt-ht.createdAt);f(rt)}if(Y){const rt=[...Y].sort((ht,C)=>C.createdAt-ht.createdAt);m(rt)}if(ot){const rt=[...ot].sort((ht,C)=>C.createdAt-ht.createdAt);b(rt)}x(!0)},[B]),P.useEffect(()=>{!B||!w||(localStorage.setItem(`notes${B}`,JSON.stringify(n)),localStorage.setItem(`deletedNote${B}`,JSON.stringify(s)),localStorage.setItem(`pinNotes${B}`,JSON.stringify(u)),localStorage.setItem(`favouriteNotes${B}`,JSON.stringify(g)),localStorage.setItem(`tags${B}`,JSON.stringify(E)))},[n,w,s,u,g,E]),we.jsxs(we.Fragment,{children:[we.jsx(DD,{}),we.jsx(P.Suspense,{fallback:we.jsx("div",{className:"loading-container",children:we.jsx("div",{className:"loading-content",children:"Loading..."})}),children:we.jsxs(fA,{children:[we.jsx(Hl,{path:"/",element:we.jsx(e4,{})}),we.jsx(Hl,{path:"/signup",element:we.jsx(ZO,{})}),we.jsx(Hl,{path:"/signin",element:we.jsx(JO,{})}),we.jsx(Hl,{path:"/reset",element:we.jsx(t4,{})})]})})]})}Sb.createRoot(document.getElementById("root")).render(we.jsx(P.StrictMode,{children:we.jsx(xA,{basename:"/note",children:we.jsx(WO,{children:we.jsx(n4,{})})})}));export{Zm as A,zo as E,l4 as H,Qt as R,u4 as a,rf as b,c4 as c,q0 as d,q1 as e,r4 as f,fb as g,s4 as h,o4 as i,we as j,P as r,a4 as s,eT as u,Jt as y};
